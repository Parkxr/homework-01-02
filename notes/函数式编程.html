<html>
<head>
  <title>Evernote Export</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="YXBJ Windows/601748 (zh-CN, DDL); Windows/10.0.0 (Win64); EDAMVersion=V2;"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="2042"/>

<div>
<span><div><font style="font-size: 12pt;"><span style="color: rgb(51, 51, 51); font-family: Monaco; font-size: 12pt; font-weight: bold;">函数式编程</span></font></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>函数式编程（Functional Programming,FP）,FP是编程模范式之一，还有面相过程编程，面相对象编程等。</div><div>是对运算过程的抽象，函数式编程中的函数指的不都是程序中的函数（方法），而是数学中的函数即映射关系，例如：y=sin(x)，x和y的关系</div><div>相同的输入始终要得到相同的输出(纯函数)</div><div>函数式编程用来描述数据（函数）之间的映射。</div><div><font face="Monaco">函数式编程不会保留计算中间的结果，所以变量是不可变的（无状态的）</font></div><div><font face="Monaco">我们可以把一个函数的执行结果交给另一个函数去处理。</font></div></div><div><font style="font-size: 12pt;"><br/></font></div><div><span style="font-weight: bold; font-size: 12pt;">为啥要学习函数式编程</span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>函数式编程式随着React的流行受到越来越多的关注</div><div>vue3也开始拥抱函数式编程</div><div>函数式编程可以抛弃this</div><div><font face="Monaco">打包过程中可以更好的利用tree shaking 过滤无用代码</font></div><div><font face="Monaco">方便测试、方便并行处理</font></div><div><font face="Monaco">有很多库可以帮助我们进行函数式开发：lodash、underscore、ramda</font></div></div><div><br/></div><div><font style="font-size: 12pt;"><span style="color: rgb(51, 51, 51); font-family: Monaco; font-size: 12pt; font-weight: bold;">高阶函数</span></font></div><div><span style="color: rgb(51, 51, 51); font-family: Monaco; font-size: 9pt;">1、函数作为参数</span></div><div><span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco;">会让我们的函数更加灵活，会屏蔽内部的一些细节，函数名更加语义化。</span></div><div style="background-color: rgb(235, 238, 245); font-size: 14px; white-space: pre;"><span style="color: rgb(124, 77, 255); font-size: 14px; line-height: 19px; font-weight: bold;">function</span><span style="color: rgb(98, 98, 100); font-size: 14px; line-height: 19px;"> </span><span style="color: rgb(67, 122, 237); font-size: 14px; line-height: 19px; font-weight: bold;">filter</span><span style="color: rgb(93, 93, 95); font-size: 14px; line-height: 19px;">(</span><span style="color: rgb(240, 170, 11); font-size: 14px; line-height: 19px;">arr</span><span style="color: rgb(160, 161, 167); font-size: 14px; line-height: 19px;">,</span><span style="color: rgb(240, 170, 11); font-size: 14px; line-height: 19px;">fn</span><span style="color: rgb(93, 93, 95); font-size: 14px; line-height: 19px;">){</span></div><div style="background-color: rgb(235, 238, 245); font-size: 14px; white-space: pre;"><span style="color: rgb(98, 98, 100); font-size: 14px; line-height: 19px;">    </span><span style="color: rgb(124, 77, 255); font-size: 14px; line-height: 19px; font-weight: bold;">let </span><span style="color: rgb(93, 93, 95); font-size: 14px; line-height: 19px;">res</span><span style="color: rgb(124, 77, 255); font-size: 14px; line-height: 19px; font-weight: bold;"> </span><span style="color: rgb(136, 136, 136); font-size: 14px; line-height: 19px;">=</span><span style="color: rgb(124, 77, 255); font-size: 14px; line-height: 19px; font-weight: bold;"> </span><span style="color: rgb(93, 93, 95); font-size: 14px; line-height: 19px;">[]</span></div><div style="background-color: rgb(235, 238, 245); font-size: 14px; white-space: pre;"><span style="color: rgb(98, 98, 100); font-size: 14px; line-height: 19px;">    </span><span style="color: rgb(200, 56, 198); font-size: 14px; line-height: 19px; font-weight: bold;">for</span><span style="color: rgb(93, 93, 95); font-size: 14px; line-height: 19px;">(</span><span style="color: rgb(98, 98, 100); font-size: 14px; line-height: 19px;"> </span><span style="color: rgb(124, 77, 255); font-size: 14px; line-height: 19px; font-weight: bold;">var </span><span style="color: rgb(93, 93, 95); font-size: 14px; line-height: 19px;">i</span><span style="color: rgb(124, 77, 255); font-size: 14px; line-height: 19px; font-weight: bold;"> </span><span style="color: rgb(136, 136, 136); font-size: 14px; line-height: 19px;">=</span><span style="color: rgb(124, 77, 255); font-size: 14px; line-height: 19px; font-weight: bold;"> </span><span style="color: rgb(255, 101, 0); font-size: 14px; line-height: 19px;">0</span><span style="color: rgb(124, 77, 255); font-size: 14px; line-height: 19px; font-weight: bold;"> </span><span style="color: rgb(169, 169, 170); font-size: 14px; line-height: 19px;">;</span><span style="color: rgb(98, 98, 100); font-size: 14px; line-height: 19px;"> </span><span style="color: rgb(93, 93, 95); font-size: 14px; line-height: 19px;">i</span><span style="color: rgb(98, 98, 100); font-size: 14px; line-height: 19px;"> </span><span style="color: rgb(200, 56, 198); font-size: 14px; line-height: 19px; font-weight: bold;">&lt;</span><span style="color: rgb(98, 98, 100); font-size: 14px; line-height: 19px;"> </span><span style="color: rgb(93, 93, 95); font-size: 14px; line-height: 19px;">arr</span><span style="color: rgb(93, 93, 95); font-size: 14px; line-height: 19px; font-weight: bold;">.</span><span style="color: rgb(205, 96, 105); font-size: 14px; line-height: 19px;">length</span><span style="color: rgb(98, 98, 100); font-size: 14px; line-height: 19px;"> </span><span style="color: rgb(169, 169, 170); font-size: 14px; line-height: 19px;">;</span><span style="color: rgb(98, 98, 100); font-size: 14px; line-height: 19px;"> </span><span style="color: rgb(93, 93, 95); font-size: 14px; line-height: 19px;">i</span><span style="color: rgb(0, 190, 196); font-size: 14px; line-height: 19px;">++</span><span style="color: rgb(93, 93, 95); font-size: 14px; line-height: 19px;">){</span></div><div style="background-color: rgb(235, 238, 245); font-size: 14px; white-space: pre;"><span style="color: rgb(98, 98, 100); font-size: 14px; line-height: 19px;">        </span><span style="color: rgb(200, 56, 198); font-size: 14px; line-height: 19px; font-weight: bold;">if</span><span style="color: rgb(93, 93, 95); font-size: 14px; line-height: 19px;">(</span><span style="color: rgb(67, 122, 237); font-size: 14px; line-height: 19px; font-weight: bold;">fn</span><span style="color: rgb(93, 93, 95); font-size: 14px; line-height: 19px;">(</span><span style="color: rgb(93, 93, 95); font-size: 14px; line-height: 19px;">arr</span><span style="color: rgb(93, 93, 95); font-size: 14px; line-height: 19px;">[</span><span style="color: rgb(93, 93, 95); font-size: 14px; line-height: 19px;">i</span><span style="color: rgb(93, 93, 95); font-size: 14px; line-height: 19px;">])){</span></div><div style="background-color: rgb(235, 238, 245); font-size: 14px; white-space: pre;"><span style="color: rgb(98, 98, 100); font-size: 14px; line-height: 19px;">            </span><span style="color: rgb(93, 93, 95); font-size: 14px; line-height: 19px;">res</span><span style="color: rgb(93, 93, 95); font-size: 14px; line-height: 19px; font-weight: bold;">.</span><span style="color: rgb(67, 122, 237); font-size: 14px; line-height: 19px; font-weight: bold;">push</span><span style="color: rgb(93, 93, 95); font-size: 14px; line-height: 19px;">(</span><span style="color: rgb(93, 93, 95); font-size: 14px; line-height: 19px;">arr</span><span style="color: rgb(93, 93, 95); font-size: 14px; line-height: 19px;">[</span><span style="color: rgb(93, 93, 95); font-size: 14px; line-height: 19px;">i</span><span style="color: rgb(93, 93, 95); font-size: 14px; line-height: 19px;">])</span></div><div style="background-color: rgb(235, 238, 245); font-size: 14px; white-space: pre;"><span style="color: rgb(98, 98, 100); font-size: 14px; line-height: 19px;">        </span><span style="color: rgb(93, 93, 95); font-size: 14px; line-height: 19px;">}</span></div><div style="background-color: rgb(235, 238, 245); font-size: 14px; white-space: pre;"><span style="color: rgb(98, 98, 100); font-size: 14px; line-height: 19px;">    </span><span style="color: rgb(93, 93, 95); font-size: 14px; line-height: 19px;">}</span></div><div style="background-color: rgb(235, 238, 245); font-size: 14px; white-space: pre;"><span style="color: rgb(98, 98, 100); font-size: 14px; line-height: 19px;">    </span><span style="color: rgb(200, 56, 198); font-size: 14px; line-height: 19px; font-weight: bold;">return</span><span style="color: rgb(98, 98, 100); font-size: 14px; line-height: 19px;"> </span><span style="color: rgb(93, 93, 95); font-size: 14px; line-height: 19px;">res</span></div><div style="background-color: rgb(235, 238, 245); font-size: 14px; white-space: pre;"><span style="color: rgb(93, 93, 95); font-size: 14px; line-height: 19px;">}</span></div><div style="background-color: rgb(235, 238, 245); font-size: 14px; white-space: pre;"><br/></div><div style="background-color: rgb(235, 238, 245); font-size: 14px; white-space: pre;"><span style="color: rgb(124, 77, 255); font-size: 14px; line-height: 19px; font-weight: bold;">let </span><span style="color: rgb(93, 93, 95); font-size: 14px; line-height: 19px;">list</span><span style="color: rgb(124, 77, 255); font-size: 14px; line-height: 19px; font-weight: bold;"> </span><span style="color: rgb(136, 136, 136); font-size: 14px; line-height: 19px;">=</span><span style="color: rgb(124, 77, 255); font-size: 14px; line-height: 19px; font-weight: bold;"> </span><span style="color: rgb(93, 93, 95); font-size: 14px; line-height: 19px;">[</span><span style="color: rgb(255, 101, 0); font-size: 14px; line-height: 19px;">1</span><span style="color: rgb(160, 161, 167); font-size: 14px; line-height: 19px;">,</span><span style="color: rgb(255, 101, 0); font-size: 14px; line-height: 19px;">2</span><span style="color: rgb(160, 161, 167); font-size: 14px; line-height: 19px;">,</span><span style="color: rgb(255, 101, 0); font-size: 14px; line-height: 19px;">3</span><span style="color: rgb(160, 161, 167); font-size: 14px; line-height: 19px;">,</span><span style="color: rgb(255, 101, 0); font-size: 14px; line-height: 19px;">4</span><span style="color: rgb(160, 161, 167); font-size: 14px; line-height: 19px;">,</span><span style="color: rgb(255, 101, 0); font-size: 14px; line-height: 19px;">5</span><span style="color: rgb(160, 161, 167); font-size: 14px; line-height: 19px;">,</span><span style="color: rgb(255, 101, 0); font-size: 14px; line-height: 19px;">6</span><span style="color: rgb(160, 161, 167); font-size: 14px; line-height: 19px;">,</span><span style="color: rgb(255, 101, 0); font-size: 14px; line-height: 19px;">7</span><span style="color: rgb(160, 161, 167); font-size: 14px; line-height: 19px;">,</span><span style="color: rgb(255, 101, 0); font-size: 14px; line-height: 19px;">8</span><span style="color: rgb(160, 161, 167); font-size: 14px; line-height: 19px;">,</span><span style="color: rgb(255, 101, 0); font-size: 14px; line-height: 19px;">9</span><span style="color: rgb(93, 93, 95); font-size: 14px; line-height: 19px;">]</span></div><div style="background-color: rgb(235, 238, 245); font-size: 14px; white-space: pre;"><span style="color: rgb(124, 77, 255); font-size: 14px; line-height: 19px; font-weight: bold;">let </span><span style="color: rgb(93, 93, 95); font-size: 14px; line-height: 19px;">a</span><span style="color: rgb(124, 77, 255); font-size: 14px; line-height: 19px; font-weight: bold;"> </span><span style="color: rgb(136, 136, 136); font-size: 14px; line-height: 19px;">=</span><span style="color: rgb(124, 77, 255); font-size: 14px; line-height: 19px; font-weight: bold;"> </span><span style="color: rgb(67, 122, 237); font-size: 14px; line-height: 19px; font-weight: bold;">filter</span><span style="color: rgb(93, 93, 95); font-size: 14px; line-height: 19px;">(</span><span style="color: rgb(93, 93, 95); font-size: 14px; line-height: 19px;">list</span><span style="color: rgb(160, 161, 167); font-size: 14px; line-height: 19px;">,</span><span style="color: rgb(124, 77, 255); font-size: 14px; line-height: 19px; font-weight: bold;">function</span><span style="color: rgb(93, 93, 95); font-size: 14px; line-height: 19px;">(</span><span style="color: rgb(240, 170, 11); font-size: 14px; line-height: 19px;">item</span><span style="color: rgb(93, 93, 95); font-size: 14px; line-height: 19px;">){</span></div><div style="background-color: rgb(235, 238, 245); font-size: 14px; white-space: pre;"><span style="color: rgb(124, 77, 255); font-size: 14px; line-height: 19px; font-weight: bold;">    </span><span style="color: rgb(200, 56, 198); font-size: 14px; line-height: 19px; font-weight: bold;">return</span><span style="color: rgb(124, 77, 255); font-size: 14px; line-height: 19px; font-weight: bold;"> </span><span style="color: rgb(93, 93, 95); font-size: 14px; line-height: 19px;">item</span><span style="color: rgb(124, 77, 255); font-size: 14px; line-height: 19px; font-weight: bold;"> </span><span style="color: rgb(0, 190, 196); font-size: 14px; line-height: 19px;">%</span><span style="color: rgb(124, 77, 255); font-size: 14px; line-height: 19px; font-weight: bold;"> </span><span style="color: rgb(255, 101, 0); font-size: 14px; line-height: 19px;">2</span><span style="color: rgb(124, 77, 255); font-size: 14px; line-height: 19px; font-weight: bold;"> </span><span style="color: rgb(200, 56, 198); font-size: 14px; line-height: 19px; font-weight: bold;">===</span><span style="color: rgb(124, 77, 255); font-size: 14px; line-height: 19px; font-weight: bold;"> </span><span style="color: rgb(255, 101, 0); font-size: 14px; line-height: 19px;">0</span></div><div style="background-color: rgb(235, 238, 245); font-size: 14px; white-space: pre;"><span style="color: rgb(93, 93, 95); font-size: 14px; line-height: 19px;">})</span></div><div style="background-color: rgb(235, 238, 245); font-size: 14px; white-space: pre;"><span style="color: rgb(205, 96, 105); font-size: 14px; line-height: 19px;">console</span><span style="color: rgb(93, 93, 95); font-size: 14px; line-height: 19px; font-weight: bold;">.</span><span style="color: rgb(0, 190, 196); font-size: 14px; line-height: 19px;">log</span><span style="color: rgb(93, 93, 95); font-size: 14px; line-height: 19px;">(</span><span style="color: rgb(93, 93, 95); font-size: 14px; line-height: 19px;">a</span><span style="color: rgb(93, 93, 95); font-size: 14px; line-height: 19px;">)</span></div><div><span style="font-size: 12px;"><br/></span></div><div><span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco;">2、函数作为返回值</span></div><div style="background-color: rgb(235, 238, 245); font-size: 14px; white-space: pre;"><span style="color: rgb(124, 77, 255); font-size: 14px; line-height: 19px; font-weight: bold;">function</span><span style="color: rgb(98, 98, 100); font-size: 14px; line-height: 19px;"> </span><span style="color: rgb(67, 122, 237); font-size: 14px; line-height: 19px; font-weight: bold;">once</span><span style="color: rgb(93, 93, 95); font-size: 14px; line-height: 19px;">(</span><span style="color: rgb(240, 170, 11); font-size: 14px; line-height: 19px;">fn</span><span style="color: rgb(93, 93, 95); font-size: 14px; line-height: 19px;">){</span></div><div style="background-color: rgb(235, 238, 245); font-size: 14px; white-space: pre;"><span style="color: rgb(98, 98, 100); font-size: 14px; line-height: 19px;">    </span><span style="color: rgb(124, 77, 255); font-size: 14px; line-height: 19px; font-weight: bold;">let </span><span style="color: rgb(93, 93, 95); font-size: 14px; line-height: 19px;">done</span><span style="color: rgb(124, 77, 255); font-size: 14px; line-height: 19px; font-weight: bold;"> </span><span style="color: rgb(136, 136, 136); font-size: 14px; line-height: 19px;">=</span><span style="color: rgb(124, 77, 255); font-size: 14px; line-height: 19px; font-weight: bold;"> </span><span style="color: rgb(200, 56, 198); font-size: 14px; line-height: 19px; font-weight: bold;">false</span><span style="color: rgb(169, 169, 170); font-size: 14px; line-height: 19px;">;</span></div><div style="background-color: rgb(235, 238, 245); font-size: 14px; white-space: pre;"><span style="color: rgb(98, 98, 100); font-size: 14px; line-height: 19px;">    </span><span style="color: rgb(200, 56, 198); font-size: 14px; line-height: 19px; font-weight: bold;">return</span><span style="color: rgb(98, 98, 100); font-size: 14px; line-height: 19px;"> </span><span style="color: rgb(124, 77, 255); font-size: 14px; line-height: 19px; font-weight: bold;">function</span><span style="color: rgb(93, 93, 95); font-size: 14px; line-height: 19px;">(){</span></div><div style="background-color: rgb(235, 238, 245); font-size: 14px; white-space: pre;"><span style="color: rgb(98, 98, 100); font-size: 14px; line-height: 19px;">        </span><span style="color: rgb(205, 96, 105); font-size: 14px; line-height: 19px;">console</span><span style="color: rgb(93, 93, 95); font-size: 14px; line-height: 19px; font-weight: bold;">.</span><span style="color: rgb(0, 190, 196); font-size: 14px; line-height: 19px;">log</span><span style="color: rgb(93, 93, 95); font-size: 14px; line-height: 19px;">(</span><span style="color: rgb(240, 170, 11); font-size: 14px; line-height: 19px;">arguments</span><span style="color: rgb(93, 93, 95); font-size: 14px; line-height: 19px;">)</span></div><div style="background-color: rgb(235, 238, 245); font-size: 14px; white-space: pre;"><span style="color: rgb(98, 98, 100); font-size: 14px; line-height: 19px;">        </span><span style="color: rgb(200, 56, 198); font-size: 14px; line-height: 19px; font-weight: bold;">if</span><span style="color: rgb(93, 93, 95); font-size: 14px; line-height: 19px;">(</span><span style="color: rgb(200, 56, 198); font-size: 14px; line-height: 19px; font-weight: bold;">!</span><span style="color: rgb(93, 93, 95); font-size: 14px; line-height: 19px;">done</span><span style="color: rgb(93, 93, 95); font-size: 14px; line-height: 19px;">){</span></div><div style="background-color: rgb(235, 238, 245); font-size: 14px; white-space: pre;"><span style="color: rgb(98, 98, 100); font-size: 14px; line-height: 19px;">            </span><span style="color: rgb(93, 93, 95); font-size: 14px; line-height: 19px;">done</span><span style="color: rgb(98, 98, 100); font-size: 14px; line-height: 19px;"> </span><span style="color: rgb(136, 136, 136); font-size: 14px; line-height: 19px;">=</span><span style="color: rgb(98, 98, 100); font-size: 14px; line-height: 19px;"> </span><span style="color: rgb(200, 56, 198); font-size: 14px; line-height: 19px; font-weight: bold;">true</span></div><div style="background-color: rgb(235, 238, 245); font-size: 14px; white-space: pre;"><span style="color: rgb(98, 98, 100); font-size: 14px; line-height: 19px;">            </span><span style="color: rgb(200, 56, 198); font-size: 14px; line-height: 19px; font-weight: bold;">return</span><span style="color: rgb(98, 98, 100); font-size: 14px; line-height: 19px;"> </span><span style="color: rgb(93, 93, 95); font-size: 14px; line-height: 19px;">fn</span><span style="color: rgb(93, 93, 95); font-size: 14px; line-height: 19px; font-weight: bold;">.</span><span style="color: rgb(67, 122, 237); font-size: 14px; line-height: 19px; font-weight: bold;">apply</span><span style="color: rgb(93, 93, 95); font-size: 14px; line-height: 19px;">(</span><span style="color: rgb(250, 39, 142); font-size: 14px; line-height: 19px; font-weight: bold;">this</span><span style="color: rgb(160, 161, 167); font-size: 14px; line-height: 19px;">,</span><span style="color: rgb(240, 170, 11); font-size: 14px; line-height: 19px;">arguments</span><span style="color: rgb(93, 93, 95); font-size: 14px; line-height: 19px;">)</span></div><div style="background-color: rgb(235, 238, 245); font-size: 14px; white-space: pre;"><span style="color: rgb(98, 98, 100); font-size: 14px; line-height: 19px;">        </span><span style="color: rgb(93, 93, 95); font-size: 14px; line-height: 19px;">}</span></div><div style="background-color: rgb(235, 238, 245); font-size: 14px; white-space: pre;"><span style="color: rgb(98, 98, 100); font-size: 14px; line-height: 19px;">    </span><span style="color: rgb(93, 93, 95); font-size: 14px; line-height: 19px;">}</span></div><div style="background-color: rgb(235, 238, 245); font-size: 14px; white-space: pre;"><span style="color: rgb(93, 93, 95); font-size: 14px; line-height: 19px;">}</span></div><div style="background-color: rgb(235, 238, 245); font-size: 14px; white-space: pre;"><span style="color: rgb(124, 77, 255); font-size: 14px; line-height: 19px; font-weight: bold;">var </span><span style="color: rgb(93, 93, 95); font-size: 14px; line-height: 19px;">pay</span><span style="color: rgb(124, 77, 255); font-size: 14px; line-height: 19px; font-weight: bold;"> </span><span style="color: rgb(136, 136, 136); font-size: 14px; line-height: 19px;">=</span><span style="color: rgb(124, 77, 255); font-size: 14px; line-height: 19px; font-weight: bold;"> </span><span style="color: rgb(67, 122, 237); font-size: 14px; line-height: 19px; font-weight: bold;">once</span><span style="color: rgb(93, 93, 95); font-size: 14px; line-height: 19px;">(</span><span style="color: rgb(124, 77, 255); font-size: 14px; line-height: 19px; font-weight: bold;">function</span><span style="color: rgb(93, 93, 95); font-size: 14px; line-height: 19px;">(</span><span style="color: rgb(240, 170, 11); font-size: 14px; line-height: 19px;">money</span><span style="color: rgb(93, 93, 95); font-size: 14px; line-height: 19px;">){</span></div><div style="background-color: rgb(235, 238, 245); font-size: 14px; white-space: pre;"><span style="color: rgb(124, 77, 255); font-size: 14px; line-height: 19px; font-weight: bold;">    </span><span style="color: rgb(205, 96, 105); font-size: 14px; line-height: 19px;">console</span><span style="color: rgb(93, 93, 95); font-size: 14px; line-height: 19px; font-weight: bold;">.</span><span style="color: rgb(0, 190, 196); font-size: 14px; line-height: 19px;">log</span><span style="color: rgb(93, 93, 95); font-size: 14px; line-height: 19px;">(</span><span style="color: rgb(83, 160, 83); font-size: 14px; line-height: 19px;">`支付：</span><span style="color: rgb(67, 122, 237); font-size: 14px; line-height: 19px;">${</span><span style="color: rgb(93, 93, 95); font-size: 14px; line-height: 19px;">money</span><span style="color: rgb(67, 122, 237); font-size: 14px; line-height: 19px;">}</span><span style="color: rgb(83, 160, 83); font-size: 14px; line-height: 19px;">元。`</span><span style="color: rgb(93, 93, 95); font-size: 14px; line-height: 19px;">)</span></div><div style="background-color: rgb(235, 238, 245); font-size: 14px; white-space: pre;"><span style="color: rgb(93, 93, 95); font-size: 14px; line-height: 19px;">})</span></div><div style="background-color: rgb(235, 238, 245); font-size: 14px; white-space: pre;"><span style="color: rgb(205, 96, 105); font-size: 14px; line-height: 19px;">console</span><span style="color: rgb(93, 93, 95); font-size: 14px; line-height: 19px; font-weight: bold;">.</span><span style="color: rgb(0, 190, 196); font-size: 14px; line-height: 19px;">log</span><span style="color: rgb(93, 93, 95); font-size: 14px; line-height: 19px;">(</span><span style="color: rgb(93, 93, 95); font-size: 14px; line-height: 19px;">pay</span><span style="color: rgb(93, 93, 95); font-size: 14px; line-height: 19px;">)</span></div><div style="background-color: rgb(235, 238, 245); font-size: 14px; white-space: pre;"><span style="color: rgb(67, 122, 237); font-size: 14px; line-height: 19px; font-weight: bold;">pay</span><span style="color: rgb(93, 93, 95); font-size: 14px; line-height: 19px;">(</span><span style="color: rgb(255, 101, 0); font-size: 14px; line-height: 19px;">3</span><span style="color: rgb(93, 93, 95); font-size: 14px; line-height: 19px;">)</span></div><div style="background-color: rgb(235, 238, 245); font-size: 14px; white-space: pre;"><span style="color: rgb(67, 122, 237); font-size: 14px; line-height: 19px; font-weight: bold;">pay</span><span style="color: rgb(93, 93, 95); font-size: 14px; line-height: 19px;">(</span><span style="color: rgb(255, 101, 0); font-size: 14px; line-height: 19px;">5</span><span style="color: rgb(93, 93, 95); font-size: 14px; line-height: 19px;">)</span></div><div><span style="font-size: 12px;"><br/></span></div><div><font style="font-size: 12pt;"><span style="font-size: 12pt; font-weight: bold;">使用高阶函数的意义</span></font></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>使用高阶函数可以使函数很灵活，抽象可以帮助屏蔽实现的细节，下次调用的时候 只关注实现的目标就行了。</div></div><div><br/></div><div><span style="font-weight: bold; font-size: 12pt;">常用的高阶函数</span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>forEach </div><div>map</div><div>ﬁlter</div><div>every</div><div>some</div><div>ﬁnd/ﬁndIndex</div><div>reduce</div><div>sort</div><div>……</div><div><br/></div><div>const map = function(arr,fn){</div><div>    let res = []</div><div>    for( var i = 0 ; i &lt; arr.length ; i++){</div><div>        res.push(fn(arr[i],i,arr))</div><div>    }</div><div>    return res</div><div>}</div><div>var list = [1,2,3,4,5,6,7]</div><div>var a = list.map(function(item , i,arr){</div><div>    return item * item</div><div><br/></div><div><br/></div><div>})</div><div>console.log(a)</div></div><div><span style="font-size: 12px;"><br/></span></div><div><font style="font-size: 12pt;"><span style="color: rgb(51, 51, 51); font-family: Monaco; font-size: 12pt; font-weight: bold;">闭包</span></font></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font color="#333333" face="Monaco"><font face="Monaco">闭包（closure）：函数和其周围的状态（词法环境）的引用捆绑在一起形成闭包。</font></font></div><div><font color="#333333" face="Monaco"><font face="Monaco">可以在另一个作用域调用一个函数的内部函数并访问到该函数的作用域中的成员。</font></font></div><div><font color="#333333" face="Monaco"><font face="Monaco"><br/></font></font></div><div><font color="#333333" face="Monaco">闭包的本质：函数在执行的时候会放到一个执行栈上，当函数执行完毕之后会从执行栈上移除，但是堆上的作用域成员因为被外部引用不能释放，因此内部函数依然可以访问外部函数的成员</font></div><div><font color="#333333" face="Monaco"><br/></font></div><div><font color="#333333" face="Monaco">function makePower(power){</font></div><div><font color="#333333" face="Monaco">    return function(number){</font></div><div><font color="#333333" face="Monaco">        return number ** power</font></div><div><font color="#333333" face="Monaco">    }</font></div><div><font color="#333333" face="Monaco">}</font></div><div><font color="#333333" face="Monaco"><br/></font></div><div><font color="#333333" face="Monaco">let power2 = makePower(2);</font></div><div><font color="#333333" face="Monaco">let power3 = makePower(3);</font></div><div><font color="#333333" face="Monaco">console.log(power2(2))</font></div><div><font color="#333333" face="Monaco">console.log(power2(3))</font></div><div><font color="#333333" face="Monaco">console.log(power3(2))</font></div></div><div><span style="font-size: 12px;"><br/></span></div><div><font style="font-size: 12pt;"><span style="color: rgb(51, 51, 51); font-family: Monaco; font-size: 12pt; font-weight: bold;">纯函数</span></font></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font color="#333333" face="Monaco">纯函数概念：相同的输入永远会得到相同的输出，而且没有任何可观察的副作用。</font></div><div><font color="#333333" face="Monaco">纯函数就类似数学中的函数（用来描述输入和输出之间的关系）。</font></div><div><font color="#333333" face="Monaco">纯函数的好处：</font></div><div><font color="#333333" face="Monaco"><b>1、可缓存</b></font></div><div><font color="#333333" face="Monaco">因为纯函数对相同的输入始终有相同的结果，所以可以把纯函数的结果缓存起来。</font></div><div><font color="#333333" face="Monaco">function getArea(r){</font></div><div><font color="#333333" face="Monaco">    console.log(r)</font></div><div><font color="#333333" face="Monaco">    return Math.PI * r ** 2</font></div><div><font color="#333333" face="Monaco">}</font></div><div><font color="#333333" face="Monaco">function memoize(fn){</font></div><div><font color="#333333" face="Monaco">    let cache = {}</font></div><div><font color="#333333" face="Monaco">    return function(){</font></div><div><font color="#333333" face="Monaco">        let a = JSON.stringify(arguments)</font></div><div><font color="#333333" face="Monaco">        cache[a] = cache[a] || fn.apply(fn,arguments)</font></div><div><font color="#333333" face="Monaco">        return cache[a]</font></div><div><font color="#333333" face="Monaco">    }</font></div><div><font color="#333333" face="Monaco">}</font></div><div><font color="#333333" face="Monaco">const r = memoize(getArea)</font></div><div><font color="#333333" face="Monaco">console.log(r(4))</font></div><div><font color="#333333" face="Monaco">console.log(r(4))</font></div><div><font color="#333333" face="Monaco"><br/></font></div><div><font color="#333333" face="Monaco"><b>2、可测试</b></font></div><div><font color="#333333" face="Monaco">纯函数让测试更方便</font></div><div><span style="font-size: 9pt; color: rgb(51, 51, 51); font-family: Monaco;"><br/></span></div><div><font color="#333333" face="Monaco"><b>3、并行处理</b></font></div><div>在多线程环境下并行操作共享的内存数据很可能会出现意外情况</div><div>纯函数不需要访问共享的内存数据，所以在并行环境下可以任意运行纯函数 (Web Worker)</div><div><font color="#333333" face="Monaco"><br/></font></div><div><font color="#333333" face="Monaco"><b>副作用：</b></font></div><div><font color="#333333" face="Monaco">副作用让一个函数变得不纯，纯函数根据相同的输入返回相同的输出，如果函数依赖于外部的状态就无法保证输出相同，就会带来副作用。</font></div><div><font color="#333333" face="Monaco">副作用来源：</font></div><div><font color="#333333" face="Monaco">配置文件</font></div><div><font color="#333333" face="Monaco">数据库</font></div><div><font color="#333333" face="Monaco">获取用户的输入</font></div><div><font color="#333333" face="Monaco"><span style="font-size: 9pt; color: rgb(51, 51, 51); font-family: Monaco;">......</span></font></div><div><font color="#333333" face="Monaco"><font face="Monaco">所有的外部交互都有可能带来副作用，副作用也使得方法通用性下降，不适合扩展和可重用性，同时副作用会给程序带来安全隐患给程序带来不稳定性，但是副作用不可能完全禁止，尽可能的控制它们在可控范围内发生。</font></font></div></div><div><span style="font-size: 12px;"><br/></span></div><div><font style="font-size: 12pt;"><span style="color: rgb(51, 51, 51); font-family: Monaco; font-size: 12pt; font-weight: bold;">函数柯里化（Currying）</span></font></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font color="#333333" face="Monaco">当一个函数有多个参数的时候先传递一部分参数调用它（这部分参数以后永远不变）</font></div><div><font color="#333333" face="Monaco">然后返回一个新的函数接受剩余的参数，返回结果。</font></div><div><font color="#333333" face="Monaco">const _ = require('lodash');</font></div><div><font color="#333333" face="Monaco">const match = function(reg,str){</font></div><div><font color="#333333" face="Monaco">    return str.match(reg)</font></div><div><font color="#333333" face="Monaco">}</font></div><div><font color="#333333" face="Monaco">console.log(match(/\s+/g,'ab c')) // [' ']</font></div><div><font color="#333333" face="Monaco">//----------------------------------------------</font></div><div><font color="#333333" face="Monaco">const match = function(fn){</font></div><div><font color="#333333" face="Monaco">    return function(str){</font></div><div><font color="#333333" face="Monaco">        return str.match(fn)</font></div><div><font color="#333333" face="Monaco">    }</font></div><div><font color="#333333" face="Monaco">}</font></div><div><font color="#333333" face="Monaco">const matchBlank = match(/\s+/g);</font></div><div><font color="#333333" face="Monaco">const matchNumber = match(/\d+/g);</font></div><div><font color="#333333" face="Monaco">console.log(matchBlank('abc def')); //[ ' ' ]</font></div><div><font color="#333333" face="Monaco">console.log(matchNumber('123abc')) //[ '123' ]</font></div><div><font color="#333333" face="Monaco">//----------------------------------------------</font></div><div><font color="#333333" face="Monaco">const match = _.curry(function(reg,str){</font></div><div><font color="#333333" face="Monaco">    return str.match(reg)</font></div><div><font color="#333333" face="Monaco">})</font></div><div><font color="#333333" face="Monaco">const matchBlank = match(/\s+/g)</font></div><div><font color="#333333" face="Monaco">const matchNumber = match(/\d+/g)</font></div><div><font color="#333333" face="Monaco"><br/></font></div><div><font color="#333333" face="Monaco"><br/></font></div><div><font color="#333333" face="Monaco">console.log(matchBlank('abc def')) //[ ' ' ]</font></div><div><font color="#333333" face="Monaco">console.log(matchNumber('d123ef')) //[ '123' ]</font></div><div><font color="#333333" face="Monaco">//-----------------------------------------------</font></div><div><font color="#333333" face="Monaco">const filter = _.curry(function(fn,arr){</font></div><div><font color="#333333" face="Monaco">    return arr.filter(fn)</font></div><div><font color="#333333" face="Monaco">})</font></div><div><font color="#333333" face="Monaco">const arrMatchBlank = filter(matchBlank)</font></div><div><font color="#333333" face="Monaco">const arrMatchNumber = filter(matchNumber)</font></div><div><font color="#333333" face="Monaco">console.log(arrMatchBlank(['123','abc def'])) //[ 'abc def' ]</font></div><div><font color="#333333" face="Monaco">console.log(arrMatchNumber(['123','abc def'])) //[ '123' ]</font></div></div><div style="background-color: rgb(235, 238, 245); font-size: 14px; white-space: pre;"><span style="color: rgb(124, 77, 255); font-size: 14px; line-height: 19px; font-weight: bold;">const </span><span style="color: rgb(255, 101, 0); font-size: 14px; line-height: 19px;">_</span><span style="color: rgb(124, 77, 255); font-size: 14px; line-height: 19px; font-weight: bold;"> </span><span style="color: rgb(136, 136, 136); font-size: 14px; line-height: 19px;">=</span><span style="color: rgb(124, 77, 255); font-size: 14px; line-height: 19px; font-weight: bold;"> </span><span style="color: rgb(0, 190, 196); font-size: 14px; line-height: 19px;">require</span><span style="color: rgb(93, 93, 95); font-size: 14px; line-height: 19px;">(</span><span style="color: rgb(83, 160, 83); font-size: 14px; line-height: 19px;">'lodash'</span><span style="color: rgb(93, 93, 95); font-size: 14px; line-height: 19px;">)</span><span style="color: rgb(169, 169, 170); font-size: 14px; line-height: 19px;">;</span></div><div style="background-color: rgb(235, 238, 245); font-size: 14px; white-space: pre;"><span style="color: rgb(124, 77, 255); font-size: 14px; line-height: 19px; font-weight: bold;">const </span><span style="color: rgb(67, 122, 237); font-size: 14px; line-height: 19px; font-weight: bold;">match</span><span style="color: rgb(124, 77, 255); font-size: 14px; line-height: 19px; font-weight: bold;"> </span><span style="color: rgb(136, 136, 136); font-size: 14px; line-height: 19px;">=</span><span style="color: rgb(124, 77, 255); font-size: 14px; line-height: 19px; font-weight: bold;"> function</span><span style="color: rgb(93, 93, 95); font-size: 14px; line-height: 19px;">(</span><span style="color: rgb(240, 170, 11); font-size: 14px; line-height: 19px;">reg</span><span style="color: rgb(160, 161, 167); font-size: 14px; line-height: 19px;">,</span><span style="color: rgb(240, 170, 11); font-size: 14px; line-height: 19px;">str</span><span style="color: rgb(93, 93, 95); font-size: 14px; line-height: 19px;">){</span></div><div style="background-color: rgb(235, 238, 245); font-size: 14px; white-space: pre;"><span style="color: rgb(124, 77, 255); font-size: 14px; line-height: 19px; font-weight: bold;">    </span><span style="color: rgb(200, 56, 198); font-size: 14px; line-height: 19px; font-weight: bold;">return</span><span style="color: rgb(124, 77, 255); font-size: 14px; line-height: 19px; font-weight: bold;"> </span><span style="color: rgb(93, 93, 95); font-size: 14px; line-height: 19px;">str</span><span style="color: rgb(93, 93, 95); font-size: 14px; line-height: 19px; font-weight: bold;">.</span><span style="color: rgb(67, 122, 237); font-size: 14px; line-height: 19px; font-weight: bold;">match</span><span style="color: rgb(93, 93, 95); font-size: 14px; line-height: 19px;">(</span><span style="color: rgb(93, 93, 95); font-size: 14px; line-height: 19px;">reg</span><span style="color: rgb(93, 93, 95); font-size: 14px; line-height: 19px;">)</span></div><div style="background-color: rgb(235, 238, 245); font-size: 14px; white-space: pre;"><span style="color: rgb(93, 93, 95); font-size: 14px; line-height: 19px;">}</span></div><div style="background-color: rgb(235, 238, 245); font-size: 14px; white-space: pre;"><span style="color: rgb(205, 96, 105); font-size: 14px; line-height: 19px;">console</span><span style="color: rgb(93, 93, 95); font-size: 14px; line-height: 19px; font-weight: bold;">.</span><span style="color: rgb(0, 190, 196); font-size: 14px; line-height: 19px;">log</span><span style="color: rgb(93, 93, 95); font-size: 14px; line-height: 19px;">(</span><span style="color: rgb(67, 122, 237); font-size: 14px; line-height: 19px; font-weight: bold;">match</span><span style="color: rgb(93, 93, 95); font-size: 14px; line-height: 19px;">(</span><span style="color: rgb(83, 160, 83); font-size: 14px; line-height: 19px;">/</span><span style="color: rgb(255, 101, 0); font-size: 14px; line-height: 19px;">\s</span><span style="color: rgb(240, 170, 11); font-size: 14px; line-height: 19px;">+</span><span style="color: rgb(83, 160, 83); font-size: 14px; line-height: 19px;">/</span><span style="color: rgb(205, 96, 105); font-size: 14px; line-height: 19px;">g</span><span style="color: rgb(160, 161, 167); font-size: 14px; line-height: 19px;">,</span><span style="color: rgb(83, 160, 83); font-size: 14px; line-height: 19px;">'ab c'</span><span style="color: rgb(93, 93, 95); font-size: 14px; line-height: 19px;">))</span></div><div style="background-color: rgb(235, 238, 245); font-size: 14px; white-space: pre;"><span style="color: rgb(169, 169, 170); font-size: 14px; line-height: 19px;">//</span><span style="color: rgb(169, 169, 170); font-size: 14px; line-height: 19px; font-style: italic;">----------------------------------------------</span></div><div style="background-color: rgb(235, 238, 245); font-size: 14px; white-space: pre;"><span style="color: rgb(124, 77, 255); font-size: 14px; line-height: 19px; font-weight: bold;">const </span><span style="color: rgb(67, 122, 237); font-size: 14px; line-height: 19px; font-weight: bold;">match</span><span style="color: rgb(124, 77, 255); font-size: 14px; line-height: 19px; font-weight: bold;"> </span><span style="color: rgb(136, 136, 136); font-size: 14px; line-height: 19px;">=</span><span style="color: rgb(124, 77, 255); font-size: 14px; line-height: 19px; font-weight: bold;"> function</span><span style="color: rgb(93, 93, 95); font-size: 14px; line-height: 19px;">(</span><span style="color: rgb(240, 170, 11); font-size: 14px; line-height: 19px;">fn</span><span style="color: rgb(93, 93, 95); font-size: 14px; line-height: 19px;">){</span></div><div style="background-color: rgb(235, 238, 245); font-size: 14px; white-space: pre;"><span style="color: rgb(124, 77, 255); font-size: 14px; line-height: 19px; font-weight: bold;">    </span><span style="color: rgb(200, 56, 198); font-size: 14px; line-height: 19px; font-weight: bold;">return</span><span style="color: rgb(124, 77, 255); font-size: 14px; line-height: 19px; font-weight: bold;"> function</span><span style="color: rgb(93, 93, 95); font-size: 14px; line-height: 19px;">(</span><span style="color: rgb(240, 170, 11); font-size: 14px; line-height: 19px;">str</span><span style="color: rgb(93, 93, 95); font-size: 14px; line-height: 19px;">){</span></div><div style="background-color: rgb(235, 238, 245); font-size: 14px; white-space: pre;"><span style="color: rgb(124, 77, 255); font-size: 14px; line-height: 19px; font-weight: bold;">        </span><span style="color: rgb(200, 56, 198); font-size: 14px; line-height: 19px; font-weight: bold;">return</span><span style="color: rgb(124, 77, 255); font-size: 14px; line-height: 19px; font-weight: bold;"> </span><span style="color: rgb(93, 93, 95); font-size: 14px; line-height: 19px;">str</span><span style="color: rgb(93, 93, 95); font-size: 14px; line-height: 19px; font-weight: bold;">.</span><span style="color: rgb(67, 122, 237); font-size: 14px; line-height: 19px; font-weight: bold;">match</span><span style="color: rgb(93, 93, 95); font-size: 14px; line-height: 19px;">(</span><span style="color: rgb(93, 93, 95); font-size: 14px; line-height: 19px;">fn</span><span style="color: rgb(93, 93, 95); font-size: 14px; line-height: 19px;">)</span></div><div style="background-color: rgb(235, 238, 245); font-size: 14px; white-space: pre;"><span style="color: rgb(124, 77, 255); font-size: 14px; line-height: 19px; font-weight: bold;">    </span><span style="color: rgb(93, 93, 95); font-size: 14px; line-height: 19px;">}</span></div><div style="background-color: rgb(235, 238, 245); font-size: 14px; white-space: pre;"><span style="color: rgb(93, 93, 95); font-size: 14px; line-height: 19px;">}</span></div><div style="background-color: rgb(235, 238, 245); font-size: 14px; white-space: pre;"><span style="color: rgb(124, 77, 255); font-size: 14px; line-height: 19px; font-weight: bold;">const </span><span style="color: rgb(255, 101, 0); font-size: 14px; line-height: 19px;">matchBlank</span><span style="color: rgb(124, 77, 255); font-size: 14px; line-height: 19px; font-weight: bold;"> </span><span style="color: rgb(136, 136, 136); font-size: 14px; line-height: 19px;">=</span><span style="color: rgb(124, 77, 255); font-size: 14px; line-height: 19px; font-weight: bold;"> </span><span style="color: rgb(67, 122, 237); font-size: 14px; line-height: 19px; font-weight: bold;">match</span><span style="color: rgb(93, 93, 95); font-size: 14px; line-height: 19px;">(</span><span style="color: rgb(83, 160, 83); font-size: 14px; line-height: 19px;">/</span><span style="color: rgb(255, 101, 0); font-size: 14px; line-height: 19px;">\s</span><span style="color: rgb(240, 170, 11); font-size: 14px; line-height: 19px;">+</span><span style="color: rgb(83, 160, 83); font-size: 14px; line-height: 19px;">/</span><span style="color: rgb(205, 96, 105); font-size: 14px; line-height: 19px;">g</span><span style="color: rgb(93, 93, 95); font-size: 14px; line-height: 19px;">)</span><span style="color: rgb(169, 169, 170); font-size: 14px; line-height: 19px;">;</span></div><div style="background-color: rgb(235, 238, 245); font-size: 14px; white-space: pre;"><span style="color: rgb(124, 77, 255); font-size: 14px; line-height: 19px; font-weight: bold;">const </span><span style="color: rgb(255, 101, 0); font-size: 14px; line-height: 19px;">matchNumber</span><span style="color: rgb(124, 77, 255); font-size: 14px; line-height: 19px; font-weight: bold;"> </span><span style="color: rgb(136, 136, 136); font-size: 14px; line-height: 19px;">=</span><span style="color: rgb(124, 77, 255); font-size: 14px; line-height: 19px; font-weight: bold;"> </span><span style="color: rgb(67, 122, 237); font-size: 14px; line-height: 19px; font-weight: bold;">match</span><span style="color: rgb(93, 93, 95); font-size: 14px; line-height: 19px;">(</span><span style="color: rgb(83, 160, 83); font-size: 14px; line-height: 19px;">/</span><span style="color: rgb(255, 101, 0); font-size: 14px; line-height: 19px;">\d</span><span style="color: rgb(240, 170, 11); font-size: 14px; line-height: 19px;">+</span><span style="color: rgb(83, 160, 83); font-size: 14px; line-height: 19px;">/</span><span style="color: rgb(205, 96, 105); font-size: 14px; line-height: 19px;">g</span><span style="color: rgb(93, 93, 95); font-size: 14px; line-height: 19px;">)</span><span style="color: rgb(169, 169, 170); font-size: 14px; line-height: 19px;">;</span></div><div style="background-color: rgb(235, 238, 245); font-size: 14px; white-space: pre;"><span style="color: rgb(205, 96, 105); font-size: 14px; line-height: 19px;">console</span><span style="color: rgb(93, 93, 95); font-size: 14px; line-height: 19px; font-weight: bold;">.</span><span style="color: rgb(0, 190, 196); font-size: 14px; line-height: 19px;">log</span><span style="color: rgb(93, 93, 95); font-size: 14px; line-height: 19px;">(</span><span style="color: rgb(67, 122, 237); font-size: 14px; line-height: 19px; font-weight: bold;">matchBlank</span><span style="color: rgb(93, 93, 95); font-size: 14px; line-height: 19px;">(</span><span style="color: rgb(83, 160, 83); font-size: 14px; line-height: 19px;">'abc def'</span><span style="color: rgb(93, 93, 95); font-size: 14px; line-height: 19px;">))</span><span style="color: rgb(169, 169, 170); font-size: 14px; line-height: 19px;">;</span></div><div style="background-color: rgb(235, 238, 245); font-size: 14px; white-space: pre;"><span style="color: rgb(205, 96, 105); font-size: 14px; line-height: 19px;">console</span><span style="color: rgb(93, 93, 95); font-size: 14px; line-height: 19px; font-weight: bold;">.</span><span style="color: rgb(0, 190, 196); font-size: 14px; line-height: 19px;">log</span><span style="color: rgb(93, 93, 95); font-size: 14px; line-height: 19px;">(</span><span style="color: rgb(67, 122, 237); font-size: 14px; line-height: 19px; font-weight: bold;">matchNumber</span><span style="color: rgb(93, 93, 95); font-size: 14px; line-height: 19px;">(</span><span style="color: rgb(83, 160, 83); font-size: 14px; line-height: 19px;">'123abc'</span><span style="color: rgb(93, 93, 95); font-size: 14px; line-height: 19px;">))</span></div><div style="background-color: rgb(235, 238, 245); font-size: 14px; white-space: pre;"><span style="color: rgb(169, 169, 170); font-size: 14px; line-height: 19px;">//</span><span style="color: rgb(169, 169, 170); font-size: 14px; line-height: 19px; font-style: italic;">----------------------------------------------</span></div><div style="background-color: rgb(235, 238, 245); font-size: 14px; white-space: pre;"><span style="color: rgb(124, 77, 255); font-size: 14px; line-height: 19px; font-weight: bold;">const </span><span style="color: rgb(255, 101, 0); font-size: 14px; line-height: 19px;">match</span><span style="color: rgb(124, 77, 255); font-size: 14px; line-height: 19px; font-weight: bold;"> </span><span style="color: rgb(136, 136, 136); font-size: 14px; line-height: 19px;">=</span><span style="color: rgb(124, 77, 255); font-size: 14px; line-height: 19px; font-weight: bold;"> </span><span style="color: rgb(93, 93, 95); font-size: 14px; line-height: 19px;">_</span><span style="color: rgb(93, 93, 95); font-size: 14px; line-height: 19px; font-weight: bold;">.</span><span style="color: rgb(67, 122, 237); font-size: 14px; line-height: 19px; font-weight: bold;">curry</span><span style="color: rgb(93, 93, 95); font-size: 14px; line-height: 19px;">(</span><span style="color: rgb(124, 77, 255); font-size: 14px; line-height: 19px; font-weight: bold;">function</span><span style="color: rgb(93, 93, 95); font-size: 14px; line-height: 19px;">(</span><span style="color: rgb(240, 170, 11); font-size: 14px; line-height: 19px;">reg</span><span style="color: rgb(160, 161, 167); font-size: 14px; line-height: 19px;">,</span><span style="color: rgb(240, 170, 11); font-size: 14px; line-height: 19px;">str</span><span style="color: rgb(93, 93, 95); font-size: 14px; line-height: 19px;">){</span></div><div style="background-color: rgb(235, 238, 245); font-size: 14px; white-space: pre;"><span style="color: rgb(124, 77, 255); font-size: 14px; line-height: 19px; font-weight: bold;">    </span><span style="color: rgb(200, 56, 198); font-size: 14px; line-height: 19px; font-weight: bold;">return</span><span style="color: rgb(124, 77, 255); font-size: 14px; line-height: 19px; font-weight: bold;"> </span><span style="color: rgb(93, 93, 95); font-size: 14px; line-height: 19px;">str</span><span style="color: rgb(93, 93, 95); font-size: 14px; line-height: 19px; font-weight: bold;">.</span><span style="color: rgb(67, 122, 237); font-size: 14px; line-height: 19px; font-weight: bold;">match</span><span style="color: rgb(93, 93, 95); font-size: 14px; line-height: 19px;">(</span><span style="color: rgb(93, 93, 95); font-size: 14px; line-height: 19px;">reg</span><span style="color: rgb(93, 93, 95); font-size: 14px; line-height: 19px;">)</span></div><div style="background-color: rgb(235, 238, 245); font-size: 14px; white-space: pre;"><span style="color: rgb(93, 93, 95); font-size: 14px; line-height: 19px;">})</span></div><div style="background-color: rgb(235, 238, 245); font-size: 14px; white-space: pre;"><span style="color: rgb(124, 77, 255); font-size: 14px; line-height: 19px; font-weight: bold;">const </span><span style="color: rgb(255, 101, 0); font-size: 14px; line-height: 19px;">matchBlank</span><span style="color: rgb(124, 77, 255); font-size: 14px; line-height: 19px; font-weight: bold;"> </span><span style="color: rgb(136, 136, 136); font-size: 14px; line-height: 19px;">=</span><span style="color: rgb(124, 77, 255); font-size: 14px; line-height: 19px; font-weight: bold;"> </span><span style="color: rgb(67, 122, 237); font-size: 14px; line-height: 19px; font-weight: bold;">match</span><span style="color: rgb(93, 93, 95); font-size: 14px; line-height: 19px;">(</span><span style="color: rgb(83, 160, 83); font-size: 14px; line-height: 19px;">/</span><span style="color: rgb(255, 101, 0); font-size: 14px; line-height: 19px;">\s</span><span style="color: rgb(240, 170, 11); font-size: 14px; line-height: 19px;">+</span><span style="color: rgb(83, 160, 83); font-size: 14px; line-height: 19px;">/</span><span style="color: rgb(205, 96, 105); font-size: 14px; line-height: 19px;">g</span><span style="color: rgb(93, 93, 95); font-size: 14px; line-height: 19px;">)</span></div><div style="background-color: rgb(235, 238, 245); font-size: 14px; white-space: pre;"><span style="color: rgb(124, 77, 255); font-size: 14px; line-height: 19px; font-weight: bold;">const </span><span style="color: rgb(255, 101, 0); font-size: 14px; line-height: 19px;">matchNumber</span><span style="color: rgb(124, 77, 255); font-size: 14px; line-height: 19px; font-weight: bold;"> </span><span style="color: rgb(136, 136, 136); font-size: 14px; line-height: 19px;">=</span><span style="color: rgb(124, 77, 255); font-size: 14px; line-height: 19px; font-weight: bold;"> </span><span style="color: rgb(67, 122, 237); font-size: 14px; line-height: 19px; font-weight: bold;">match</span><span style="color: rgb(93, 93, 95); font-size: 14px; line-height: 19px;">(</span><span style="color: rgb(83, 160, 83); font-size: 14px; line-height: 19px;">/</span><span style="color: rgb(255, 101, 0); font-size: 14px; line-height: 19px;">\d</span><span style="color: rgb(240, 170, 11); font-size: 14px; line-height: 19px;">+</span><span style="color: rgb(83, 160, 83); font-size: 14px; line-height: 19px;">/</span><span style="color: rgb(205, 96, 105); font-size: 14px; line-height: 19px;">g</span><span style="color: rgb(93, 93, 95); font-size: 14px; line-height: 19px;">)</span></div><div style="background-color: rgb(235, 238, 245); font-size: 14px; white-space: pre;"><br/></div><div style="background-color: rgb(235, 238, 245); font-size: 14px; white-space: pre;"><span style="color: rgb(169, 169, 170); font-size: 14px; line-height: 19px;">//</span><span style="color: rgb(169, 169, 170); font-size: 14px; line-height: 19px; font-style: italic;"> console.log(matchBlank('abc def'))</span></div><div style="background-color: rgb(235, 238, 245); font-size: 14px; white-space: pre;"><span style="color: rgb(169, 169, 170); font-size: 14px; line-height: 19px;">//</span><span style="color: rgb(169, 169, 170); font-size: 14px; line-height: 19px; font-style: italic;"> console.log(matchNumber('123def'))</span></div><div style="background-color: rgb(235, 238, 245); font-size: 14px; white-space: pre;"><span style="color: rgb(169, 169, 170); font-size: 14px; line-height: 19px;">//</span><span style="color: rgb(169, 169, 170); font-size: 14px; line-height: 19px; font-style: italic;">-----------------------------------------------</span></div><div style="background-color: rgb(235, 238, 245); font-size: 14px; white-space: pre;"><span style="color: rgb(124, 77, 255); font-size: 14px; line-height: 19px; font-weight: bold;">const </span><span style="color: rgb(255, 101, 0); font-size: 14px; line-height: 19px;">filter</span><span style="color: rgb(124, 77, 255); font-size: 14px; line-height: 19px; font-weight: bold;"> </span><span style="color: rgb(136, 136, 136); font-size: 14px; line-height: 19px;">=</span><span style="color: rgb(124, 77, 255); font-size: 14px; line-height: 19px; font-weight: bold;"> </span><span style="color: rgb(93, 93, 95); font-size: 14px; line-height: 19px;">_</span><span style="color: rgb(93, 93, 95); font-size: 14px; line-height: 19px; font-weight: bold;">.</span><span style="color: rgb(67, 122, 237); font-size: 14px; line-height: 19px; font-weight: bold;">curry</span><span style="color: rgb(93, 93, 95); font-size: 14px; line-height: 19px;">(</span><span style="color: rgb(124, 77, 255); font-size: 14px; line-height: 19px; font-weight: bold;">function</span><span style="color: rgb(93, 93, 95); font-size: 14px; line-height: 19px;">(</span><span style="color: rgb(240, 170, 11); font-size: 14px; line-height: 19px;">fn</span><span style="color: rgb(160, 161, 167); font-size: 14px; line-height: 19px;">,</span><span style="color: rgb(240, 170, 11); font-size: 14px; line-height: 19px;">arr</span><span style="color: rgb(93, 93, 95); font-size: 14px; line-height: 19px;">){</span></div><div style="background-color: rgb(235, 238, 245); font-size: 14px; white-space: pre;"><span style="color: rgb(124, 77, 255); font-size: 14px; line-height: 19px; font-weight: bold;">    </span><span style="color: rgb(200, 56, 198); font-size: 14px; line-height: 19px; font-weight: bold;">return</span><span style="color: rgb(124, 77, 255); font-size: 14px; line-height: 19px; font-weight: bold;"> </span><span style="color: rgb(93, 93, 95); font-size: 14px; line-height: 19px;">arr</span><span style="color: rgb(93, 93, 95); font-size: 14px; line-height: 19px; font-weight: bold;">.</span><span style="color: rgb(67, 122, 237); font-size: 14px; line-height: 19px; font-weight: bold;">filter</span><span style="color: rgb(93, 93, 95); font-size: 14px; line-height: 19px;">(</span><span style="color: rgb(93, 93, 95); font-size: 14px; line-height: 19px;">fn</span><span style="color: rgb(93, 93, 95); font-size: 14px; line-height: 19px;">)</span></div><div style="background-color: rgb(235, 238, 245); font-size: 14px; white-space: pre;"><span style="color: rgb(93, 93, 95); font-size: 14px; line-height: 19px;">})</span></div><div style="background-color: rgb(235, 238, 245); font-size: 14px; white-space: pre;"><span style="color: rgb(124, 77, 255); font-size: 14px; line-height: 19px; font-weight: bold;">const </span><span style="color: rgb(255, 101, 0); font-size: 14px; line-height: 19px;">arrMatchBlank</span><span style="color: rgb(124, 77, 255); font-size: 14px; line-height: 19px; font-weight: bold;"> </span><span style="color: rgb(136, 136, 136); font-size: 14px; line-height: 19px;">=</span><span style="color: rgb(124, 77, 255); font-size: 14px; line-height: 19px; font-weight: bold;"> </span><span style="color: rgb(67, 122, 237); font-size: 14px; line-height: 19px; font-weight: bold;">filter</span><span style="color: rgb(93, 93, 95); font-size: 14px; line-height: 19px;">(</span><span style="color: rgb(93, 93, 95); font-size: 14px; line-height: 19px;">matchBlank</span><span style="color: rgb(93, 93, 95); font-size: 14px; line-height: 19px;">)</span></div><div style="background-color: rgb(235, 238, 245); font-size: 14px; white-space: pre;"><span style="color: rgb(124, 77, 255); font-size: 14px; line-height: 19px; font-weight: bold;">const </span><span style="color: rgb(255, 101, 0); font-size: 14px; line-height: 19px;">arrMatchNumber</span><span style="color: rgb(124, 77, 255); font-size: 14px; line-height: 19px; font-weight: bold;"> </span><span style="color: rgb(136, 136, 136); font-size: 14px; line-height: 19px;">=</span><span style="color: rgb(124, 77, 255); font-size: 14px; line-height: 19px; font-weight: bold;"> </span><span style="color: rgb(67, 122, 237); font-size: 14px; line-height: 19px; font-weight: bold;">filter</span><span style="color: rgb(93, 93, 95); font-size: 14px; line-height: 19px;">(</span><span style="color: rgb(93, 93, 95); font-size: 14px; line-height: 19px;">matchNumber</span><span style="color: rgb(93, 93, 95); font-size: 14px; line-height: 19px;">)</span></div><div style="background-color: rgb(235, 238, 245); font-size: 14px; white-space: pre;"><span style="color: rgb(205, 96, 105); font-size: 14px; line-height: 19px;">console</span><span style="color: rgb(93, 93, 95); font-size: 14px; line-height: 19px; font-weight: bold;">.</span><span style="color: rgb(0, 190, 196); font-size: 14px; line-height: 19px;">log</span><span style="color: rgb(93, 93, 95); font-size: 14px; line-height: 19px;">(</span><span style="color: rgb(67, 122, 237); font-size: 14px; line-height: 19px; font-weight: bold;">arrMatchBlank</span><span style="color: rgb(93, 93, 95); font-size: 14px; line-height: 19px;">([</span><span style="color: rgb(83, 160, 83); font-size: 14px; line-height: 19px;">'123'</span><span style="color: rgb(160, 161, 167); font-size: 14px; line-height: 19px;">,</span><span style="color: rgb(83, 160, 83); font-size: 14px; line-height: 19px;">'abc def'</span><span style="color: rgb(93, 93, 95); font-size: 14px; line-height: 19px;">]))</span></div><div style="background-color: rgb(235, 238, 245); font-size: 14px; white-space: pre;"><span style="color: rgb(205, 96, 105); font-size: 14px; line-height: 19px;">console</span><span style="color: rgb(93, 93, 95); font-size: 14px; line-height: 19px; font-weight: bold;">.</span><span style="color: rgb(0, 190, 196); font-size: 14px; line-height: 19px;">log</span><span style="color: rgb(93, 93, 95); font-size: 14px; line-height: 19px;">(</span><span style="color: rgb(67, 122, 237); font-size: 14px; line-height: 19px; font-weight: bold;">arrMatchNumber</span><span style="color: rgb(93, 93, 95); font-size: 14px; line-height: 19px;">([</span><span style="color: rgb(83, 160, 83); font-size: 14px; line-height: 19px;">'123'</span><span style="color: rgb(160, 161, 167); font-size: 14px; line-height: 19px;">,</span><span style="color: rgb(83, 160, 83); font-size: 14px; line-height: 19px;">'abc def'</span><span style="color: rgb(93, 93, 95); font-size: 14px; line-height: 19px;">]))</span></div><div><b><font style="font-size: 12pt;"><br/></font></b></div><div><b><font style="font-size: 12pt;">模拟实现 _.curry方法</font></b></div><div style="background-color:rgb(235, 238, 245);color:rgb(93, 93, 95);font-size:14px;line-height:19px;white-space:pre;"><span style="color: #7c4dff; font-weight: bold;">function</span><span style="color: #626264;"> </span><span style="color: #437aed; font-weight: bold;">getSum</span><span style="color: #5d5d5f;">(</span><span style="color: #f0aa0b;">a</span><span style="color: #a0a1a7;">,</span><span style="color: #f0aa0b;">b</span><span style="color: #a0a1a7;">,</span><span style="color: #f0aa0b;">c</span><span style="color: #5d5d5f;">){</span></div><div style="background-color:rgb(235, 238, 245);color:rgb(93, 93, 95);font-size:14px;line-height:19px;white-space:pre;"><span style="color: #626264;">    </span><span style="color: #c838c6; font-weight: bold;">return</span><span style="color: #626264;"> </span><span style="color: #5d5d5f;">a</span><span style="color: #626264;"> </span><span style="color: #00bec4;">+</span><span style="color: #626264;"> </span><span style="color: #5d5d5f;">b</span><span style="color: #626264;"> </span><span style="color: #00bec4;">+</span><span style="color: #626264;"> </span><span style="color: #5d5d5f;">c</span></div><div style="background-color:rgb(235, 238, 245);color:rgb(93, 93, 95);font-size:14px;line-height:19px;white-space:pre;"><span style="color: #5d5d5f;">}</span></div><div style="background-color:rgb(235, 238, 245);color:rgb(93, 93, 95);font-size:14px;line-height:19px;white-space:pre;"><span style="color: #7c4dff; font-weight: bold;">function</span><span style="color: #626264;"> </span><span style="color: #437aed; font-weight: bold;">curry</span><span style="color: #5d5d5f;">(</span><span style="color: #f0aa0b;">fn</span><span style="color: #5d5d5f;">){</span></div><div style="background-color:rgb(235, 238, 245);color:rgb(93, 93, 95);font-size:14px;line-height:19px;white-space:pre;"><span style="color: #626264;">    </span><span style="color: #c838c6; font-weight: bold;">return</span><span style="color: #626264;"> </span><span style="color: #7c4dff; font-weight: bold;">function</span><span style="color: #626264;"> </span><span style="color: #437aed; font-weight: bold;">curried</span><span style="color: #5d5d5f;">(</span><span style="color: #00bec4;">...</span><span style="color: #f0aa0b;">args</span><span style="color: #5d5d5f;">){</span></div><div style="background-color:rgb(235, 238, 245);color:rgb(93, 93, 95);font-size:14px;line-height:19px;white-space:pre;"><span style="color: #626264;">        </span><span style="color: #cd6069;">console</span><span style="color: #5d5d5f; font-weight: bold;">.</span><span style="color: #00bec4;">log</span><span style="color: #5d5d5f;">(</span><span style="color: #5d5d5f;">args</span><span style="color: #5d5d5f;">)</span></div><div style="background-color:rgb(235, 238, 245);color:rgb(93, 93, 95);font-size:14px;line-height:19px;white-space:pre;"><span style="color: #626264;">        </span><span style="color: #c838c6; font-weight: bold;">if</span><span style="color: #5d5d5f;">(</span><span style="color: #5d5d5f;">args</span><span style="color: #5d5d5f; font-weight: bold;">.</span><span style="color: #cd6069;">length</span><span style="color: #626264;"> </span><span style="color: #c838c6; font-weight: bold;">&lt;</span><span style="color: #626264;"> </span><span style="color: #5d5d5f;">fn</span><span style="color: #5d5d5f; font-weight: bold;">.</span><span style="color: #cd6069;">length</span><span style="color: #5d5d5f;">){</span></div><div style="background-color:rgb(235, 238, 245);color:rgb(93, 93, 95);font-size:14px;line-height:19px;white-space:pre;"><span style="color: #626264;">            </span><span style="color: #c838c6; font-weight: bold;">return</span><span style="color: #626264;"> </span><span style="color: #7c4dff; font-weight: bold;">function</span><span style="color: #5d5d5f;">(){</span></div><div style="background-color:rgb(235, 238, 245);color:rgb(93, 93, 95);font-size:14px;line-height:19px;white-space:pre;"><span style="color: #626264;">                </span><span style="color: #cd6069;">console</span><span style="color: #5d5d5f; font-weight: bold;">.</span><span style="color: #00bec4;">log</span><span style="color: #5d5d5f;">(</span><span style="color: #f0aa0b;">arguments</span><span style="color: #5d5d5f;">)</span></div><div style="background-color:rgb(235, 238, 245);color:rgb(93, 93, 95);font-size:14px;line-height:19px;white-space:pre;"><span style="color: #626264;">                </span><span style="color: #c838c6; font-weight: bold;">return</span><span style="color: #626264;"> </span><span style="color: #437aed; font-weight: bold;">curried</span><span style="color: #5d5d5f;">(</span><span style="color: #00bec4;">...</span><span style="color: #5d5d5f;">args</span><span style="color: #5d5d5f; font-weight: bold;">.</span><span style="color: #437aed; font-weight: bold;">concat</span><span style="color: #5d5d5f;">(</span><span style="color: #437aed; font-weight: bold;">Array</span><span style="color: #5d5d5f; font-weight: bold;">.</span><span style="color: #437aed; font-weight: bold;">from</span><span style="color: #5d5d5f;">(</span><span style="color: #f0aa0b;">arguments</span><span style="color: #5d5d5f;">)))</span></div><div style="background-color:rgb(235, 238, 245);color:rgb(93, 93, 95);font-size:14px;line-height:19px;white-space:pre;"><span style="color: #626264;">            </span><span style="color: #5d5d5f;">}</span></div><div style="background-color:rgb(235, 238, 245);color:rgb(93, 93, 95);font-size:14px;line-height:19px;white-space:pre;"><span style="color: #626264;">        </span><span style="color: #5d5d5f;">}</span></div><div style="background-color:rgb(235, 238, 245);color:rgb(93, 93, 95);font-size:14px;line-height:19px;white-space:pre;"><span style="color: #626264;">        </span><span style="color: #c838c6; font-weight: bold;">return</span><span style="color: #626264;"> </span><span style="color: #437aed; font-weight: bold;">fn</span><span style="color: #5d5d5f;">(</span><span style="color: #00bec4;">...</span><span style="color: #5d5d5f;">args</span><span style="color: #5d5d5f;">)</span></div><div style="background-color:rgb(235, 238, 245);color:rgb(93, 93, 95);font-size:14px;line-height:19px;white-space:pre;"><span style="color: #626264;">    </span><span style="color: #5d5d5f;">}</span></div><div style="background-color:rgb(235, 238, 245);color:rgb(93, 93, 95);font-size:14px;line-height:19px;white-space:pre;"><span style="color: #5d5d5f;">}</span></div><div style="background-color:rgb(235, 238, 245);color:rgb(93, 93, 95);font-size:14px;line-height:19px;white-space:pre;"><span style="color: #cd6069;">console</span><span style="color: #5d5d5f; font-weight: bold;">.</span><span style="color: #00bec4;">log</span><span style="color: #5d5d5f;">(</span><span style="color: #437aed; font-weight: bold;">curry</span><span style="color: #5d5d5f;">(</span><span style="color: #5d5d5f;">getSum</span><span style="color: #5d5d5f;">)(</span><span style="color: #ff6500;">1</span><span style="color: #a0a1a7;">,</span><span style="color: #ff6500;">2</span><span style="color: #5d5d5f;">)(</span><span style="color: #ff6500;">3</span><span style="color: #a0a1a7;">,</span><span style="color: #ff6500;">4</span><span style="color: #5d5d5f;">))</span></div><div><span style="font-size: 12px;"><br/></span></div><div><font style="font-size: 12pt;"><b>柯里化总结</b></font></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>柯里化可以让我们给一个函数传递较少的参数得到一个已经记住了某些固定参数的新函数。</div><div>对函数参数进行缓存。</div><div>让函数变得更灵活，让函数的颗粒更小。</div><div><font face="Monaco">可以把多元函数转换成一元函数，可以组合使用函数产生强大的功能。</font></div></div><div><b><font style="font-size: 12pt;"><br/></font></b></div><div><b><font style="font-size: 12pt;">函数的组合</font></b></div><div><font style="font-size: 9pt;">纯函数和柯里化很容易写出洋葱代码 h(g(f(x))) 获取数组的最后一个元素再转换成大写字母，</font></div><div><font style="font-size: 9pt;">函数组合可以让我们把细粒度的函数重新组合生成一个新的函数。</font></div><div><span style="font-size: 9pt;"><img src="函数式编程_files/Image.png" type="image/png" data-filename="Image.png"/></span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><b>函数组合 (compose)</b>：如果一个函数要经过多个函数处理才能得到最终值，这个时候可以把中间过程的函数合并成一个函数</div><div>函数就像是数据的管道，函数组合就是把这些管道连接起来，让数据穿过多个管道形成最终结果 </div><div>函数组合默认是从右到左执行</div></div><div><span style="font-size: 11pt;"><b><br/></b></span></div><div><span style="font-size: 11pt;"><b>模拟实现 lodash 的 flowRight 方法</b></span></div><div style="background-color:rgb(235, 238, 245);color:rgb(93, 93, 95);font-size:14px;line-height:19px;white-space:pre;"><span style="color: #7c4dff; font-weight: bold;">const </span><span style="color: #ff6500;">arr</span><span style="color: #7c4dff; font-weight: bold;"> </span><span style="color: #888888;">=</span><span style="color: #7c4dff; font-weight: bold;"> </span><span style="color: #5d5d5f;">[</span><span style="color: #53a053;">'one'</span><span style="color: #a0a1a7;">,</span><span style="color: #53a053;">'two'</span><span style="color: #a0a1a7;">,</span><span style="color: #53a053;">'three'</span><span style="color: #a0a1a7;">,</span><span style="color: #53a053;">'four'</span><span style="color: #a0a1a7;">,</span><span style="color: #53a053;">'five'</span><span style="color: #5d5d5f;">]</span></div><div style="background-color:rgb(235, 238, 245);color:rgb(93, 93, 95);font-size:14px;line-height:19px;white-space:pre;"><span style="color: #7c4dff; font-weight: bold;">const </span><span style="color: #437aed; font-weight: bold;">reverse</span><span style="color: #7c4dff; font-weight: bold;"> </span><span style="color: #888888;">=</span><span style="color: #7c4dff; font-weight: bold;"> </span><span style="color: #f0aa0b;">val</span><span style="color: #7c4dff; font-weight: bold;"> =&gt; </span><span style="color: #5d5d5f;">val</span><span style="color: #5d5d5f; font-weight: bold;">.</span><span style="color: #437aed; font-weight: bold;">reverse</span><span style="color: #5d5d5f;">()</span></div><div style="background-color:rgb(235, 238, 245);color:rgb(93, 93, 95);font-size:14px;line-height:19px;white-space:pre;"><span style="color: #7c4dff; font-weight: bold;">const </span><span style="color: #437aed; font-weight: bold;">first</span><span style="color: #7c4dff; font-weight: bold;"> </span><span style="color: #888888;">=</span><span style="color: #7c4dff; font-weight: bold;"> </span><span style="color: #f0aa0b;">val</span><span style="color: #7c4dff; font-weight: bold;"> =&gt; </span><span style="color: #5d5d5f;">val</span><span style="color: #5d5d5f;">[</span><span style="color: #ff6500;">0</span><span style="color: #5d5d5f;">]</span></div><div style="background-color:rgb(235, 238, 245);color:rgb(93, 93, 95);font-size:14px;line-height:19px;white-space:pre;"><span style="color: #7c4dff; font-weight: bold;">const </span><span style="color: #437aed; font-weight: bold;">upper</span><span style="color: #7c4dff; font-weight: bold;"> </span><span style="color: #888888;">=</span><span style="color: #7c4dff; font-weight: bold;"> </span><span style="color: #f0aa0b;">val</span><span style="color: #7c4dff; font-weight: bold;"> =&gt; </span><span style="color: #5d5d5f;">val</span><span style="color: #5d5d5f; font-weight: bold;">.</span><span style="color: #437aed; font-weight: bold;">toUpperCase</span><span style="color: #5d5d5f;">()</span></div><div style="background-color:rgb(235, 238, 245);color:rgb(93, 93, 95);font-size:14px;line-height:19px;white-space:pre;"><span style="color: #7c4dff; font-weight: bold;">function</span><span style="color: #626264;"> </span><span style="color: #437aed; font-weight: bold;">compose</span><span style="color: #5d5d5f;">(</span><span style="color: #00bec4;">...</span><span style="color: #f0aa0b;">args</span><span style="color: #5d5d5f;">){</span></div><div style="background-color:rgb(235, 238, 245);color:rgb(93, 93, 95);font-size:14px;line-height:19px;white-space:pre;"><span style="color: #626264;">    </span><span style="color: #c838c6; font-weight: bold;">return</span><span style="color: #626264;"> </span><span style="color: #7c4dff; font-weight: bold;">function</span><span style="color: #5d5d5f;">(</span><span style="color: #f0aa0b;">value</span><span style="color: #5d5d5f;">){</span></div><div style="background-color:rgb(235, 238, 245);color:rgb(93, 93, 95);font-size:14px;line-height:19px;white-space:pre;"><span style="color: #626264;">        </span><span style="color: #c838c6; font-weight: bold;">return</span><span style="color: #626264;"> </span><span style="color: #5d5d5f;">args</span><span style="color: #5d5d5f; font-weight: bold;">.</span><span style="color: #437aed; font-weight: bold;">reverse</span><span style="color: #5d5d5f;">()</span><span style="color: #5d5d5f; font-weight: bold;">.</span><span style="color: #437aed; font-weight: bold;">reduce</span><span style="color: #5d5d5f;">(</span><span style="color: #7c4dff; font-weight: bold;">function</span><span style="color: #5d5d5f;">(</span><span style="color: #f0aa0b;">acc</span><span style="color: #a0a1a7;">,</span><span style="color: #f0aa0b;">fn</span><span style="color: #5d5d5f;">){</span></div><div style="background-color:rgb(235, 238, 245);color:rgb(93, 93, 95);font-size:14px;line-height:19px;white-space:pre;"><span style="color: #626264;">            </span><span style="color: #c838c6; font-weight: bold;">return</span><span style="color: #626264;"> </span><span style="color: #437aed; font-weight: bold;">fn</span><span style="color: #5d5d5f;">(</span><span style="color: #5d5d5f;">acc</span><span style="color: #5d5d5f;">)</span></div><div style="background-color:rgb(235, 238, 245);color:rgb(93, 93, 95);font-size:14px;line-height:19px;white-space:pre;"><span style="color: #626264;">        </span><span style="color: #5d5d5f;">}</span><span style="color: #a0a1a7;">,</span><span style="color: #5d5d5f;">value</span><span style="color: #5d5d5f;">)</span></div><div style="background-color:rgb(235, 238, 245);color:rgb(93, 93, 95);font-size:14px;line-height:19px;white-space:pre;"><span style="color: #626264;">    </span><span style="color: #5d5d5f;">}</span></div><div style="background-color:rgb(235, 238, 245);color:rgb(93, 93, 95);font-size:14px;line-height:19px;white-space:pre;"><span style="color: #5d5d5f;">}</span></div><div style="background-color:rgb(235, 238, 245);color:rgb(93, 93, 95);font-size:14px;line-height:19px;white-space:pre;"><span style="color: #a9a9aa;">//</span><span style="color: #a9a9aa; font-style: italic;"> 改用箭头函数书写</span></div><div style="background-color:rgb(235, 238, 245);color:rgb(93, 93, 95);font-size:14px;line-height:19px;white-space:pre;"><span style="color: #7c4dff; font-weight: bold;">const </span><span style="color: #437aed; font-weight: bold;">compose</span><span style="color: #7c4dff; font-weight: bold;"> </span><span style="color: #888888;">=</span><span style="color: #7c4dff; font-weight: bold;"> </span><span style="color: #5d5d5f;">(</span><span style="color: #00bec4;">...</span><span style="color: #f0aa0b;">args</span><span style="color: #5d5d5f;">)</span><span style="color: #7c4dff; font-weight: bold;"> =&gt; </span><span style="color: #f0aa0b;">value</span><span style="color: #7c4dff; font-weight: bold;"> =&gt; </span><span style="color: #5d5d5f;">args</span><span style="color: #5d5d5f; font-weight: bold;">.</span><span style="color: #437aed; font-weight: bold;">reverse</span><span style="color: #5d5d5f;">()</span><span style="color: #5d5d5f; font-weight: bold;">.</span><span style="color: #437aed; font-weight: bold;">reduce</span><span style="color: #5d5d5f;">((</span><span style="color: #f0aa0b;">acc</span><span style="color: #a0a1a7;">,</span><span style="color: #f0aa0b;">fn</span><span style="color: #5d5d5f;">)</span><span style="color: #7c4dff; font-weight: bold;"> =&gt; </span><span style="color: #437aed; font-weight: bold;">fn</span><span style="color: #5d5d5f;">(</span><span style="color: #5d5d5f;">acc</span><span style="color: #5d5d5f;">)</span><span style="color: #a0a1a7;">,</span><span style="color: #5d5d5f;">value</span><span style="color: #5d5d5f;">)</span></div><div style="background-color:rgb(235, 238, 245);color:rgb(93, 93, 95);font-size:14px;line-height:19px;white-space:pre;"><span style="color: #a9a9aa;">//</span><span style="color: #a9a9aa; font-style: italic;"> ---------------------------------------------</span></div><div style="background-color:rgb(235, 238, 245);color:rgb(93, 93, 95);font-size:14px;line-height:19px;white-space:pre;"><span style="color: #7c4dff; font-weight: bold;">const </span><span style="color: #ff6500;">r</span><span style="color: #7c4dff; font-weight: bold;"> </span><span style="color: #888888;">=</span><span style="color: #7c4dff; font-weight: bold;"> </span><span style="color: #437aed; font-weight: bold;">compose</span><span style="color: #5d5d5f;">(</span><span style="color: #5d5d5f;">upper</span><span style="color: #a0a1a7;">,</span><span style="color: #5d5d5f;">first</span><span style="color: #a0a1a7;">,</span><span style="color: #5d5d5f;">reverse</span><span style="color: #5d5d5f;">)</span></div><div style="background-color: rgb(235, 238, 245); font-size: 14px; line-height: 19px; white-space: pre;"><font style="color: rgb(168, 168, 168);"><i>// 方法的组合需要满足结合律</i></font></div><div style="background-color:rgb(235, 238, 245);color:rgb(93, 93, 95);font-size:14px;line-height:19px;white-space:pre;"><span style="color: #7c4dff; font-weight: bold;background-color:rgb(235, 238, 245);font-size:14px;line-height:19px;white-space:pre;">const </span><span style="color: #ff6500;background-color:rgb(235, 238, 245);font-size:14px;line-height:19px;white-space:pre;">r</span><span style="color: #7c4dff; font-weight: bold;background-color:rgb(235, 238, 245);font-size:14px;line-height:19px;white-space:pre;"> </span><span style="color: #888888;background-color:rgb(235, 238, 245);font-size:14px;line-height:19px;white-space:pre;">=</span><span style="color: #7c4dff; font-weight: bold;background-color:rgb(235, 238, 245);font-size:14px;line-height:19px;white-space:pre;"> </span><span style="color: #437aed; font-weight: bold;background-color:rgb(235, 238, 245);font-size:14px;line-height:19px;white-space:pre;">compose</span><span style="color: #5d5d5f;background-color:rgb(235, 238, 245);font-size:14px;line-height:19px;white-space:pre;">(</span><span style="color: #5d5d5f;background-color:rgb(235, 238, 245);font-size:14px;line-height:19px;white-space:pre;">upper</span><span style="color: #a0a1a7;background-color:rgb(235, 238, 245);font-size:14px;line-height:19px;white-space:pre;">,</span><span style="color: #437aed; font-weight: bold;background-color:rgb(235, 238, 245);font-size:14px;line-height:19px;white-space:pre;">compose</span><span style="color: #5d5d5f;background-color:rgb(235, 238, 245);font-size:14px;line-height:19px;white-space:pre;">(</span><span style="color: #5d5d5f;background-color:rgb(235, 238, 245);font-size:14px;line-height:19px;white-space:pre;">first</span><span style="color: #a0a1a7;background-color:rgb(235, 238, 245);font-size:14px;line-height:19px;white-space:pre;">,</span><span style="color: #437aed; font-weight: bold;background-color:rgb(235, 238, 245);font-size:14px;line-height:19px;white-space:pre;">compose</span><span style="color: #5d5d5f;background-color:rgb(235, 238, 245);font-size:14px;line-height:19px;white-space:pre;">(</span><span style="color: #5d5d5f;background-color:rgb(235, 238, 245);font-size:14px;line-height:19px;white-space:pre;">reverse</span><span style="color: #5d5d5f;background-color:rgb(235, 238, 245);font-size:14px;line-height:19px;white-space:pre;">)))</span><span style="color: #5d5d5f;"><br/></span></div><div style="background-color:rgb(235, 238, 245);color:rgb(93, 93, 95);font-size:14px;line-height:19px;white-space:pre;"><span style="color: #cd6069;">console</span><span style="color: #5d5d5f; font-weight: bold;">.</span><span style="color: #00bec4;">log</span><span style="color: #5d5d5f;">(</span><span style="color: #437aed; font-weight: bold;">r</span><span style="color: #5d5d5f;">(</span><span style="color: #5d5d5f;">arr</span><span style="color: #5d5d5f;">))</span></div><div><span style="font-size: 12px;"><br/></span></div><div><b><font style="font-size: 12pt;">组合函数的调试</font></b></div><div style="background-color:rgb(235, 238, 245);color:rgb(93, 93, 95);font-size:14px;line-height:19px;white-space:pre;"><span style="color: #7c4dff; font-weight: bold;">const </span><span style="color: #ff6500;">_</span><span style="color: #7c4dff; font-weight: bold;"> </span><span style="color: #888888;">=</span><span style="color: #7c4dff; font-weight: bold;"> </span><span style="color: #00bec4;">require</span><span style="color: #5d5d5f;">(</span><span style="color: #53a053;">'lodash'</span><span style="color: #5d5d5f;">)</span><span style="color: #a9a9aa;">;</span></div><div style="background-color:rgb(235, 238, 245);color:rgb(93, 93, 95);font-size:14px;line-height:19px;white-space:pre;"><span style="color: #7c4dff; font-weight: bold;">const </span><span style="color: #ff6500;">split</span><span style="color: #7c4dff; font-weight: bold;"> </span><span style="color: #888888;">=</span><span style="color: #7c4dff; font-weight: bold;"> </span><span style="color: #5d5d5f;">_</span><span style="color: #5d5d5f; font-weight: bold;">.</span><span style="color: #437aed; font-weight: bold;">curry</span><span style="color: #5d5d5f;">((</span><span style="color: #f0aa0b;">str</span><span style="color: #a0a1a7;">,</span><span style="color: #f0aa0b;">sep</span><span style="color: #5d5d5f;">)</span><span style="color: #7c4dff; font-weight: bold;"> =&gt; </span><span style="color: #5d5d5f;">_</span><span style="color: #5d5d5f; font-weight: bold;">.</span><span style="color: #437aed; font-weight: bold;">split</span><span style="color: #5d5d5f;">(</span><span style="color: #5d5d5f;">sep</span><span style="color: #a0a1a7;">,</span><span style="color: #5d5d5f;">str</span><span style="color: #5d5d5f;">))</span></div><div style="background-color:rgb(235, 238, 245);color:rgb(93, 93, 95);font-size:14px;line-height:19px;white-space:pre;"><span style="color: #7c4dff; font-weight: bold;">const </span><span style="color: #ff6500;">join</span><span style="color: #7c4dff; font-weight: bold;"> </span><span style="color: #888888;">=</span><span style="color: #7c4dff; font-weight: bold;"> </span><span style="color: #5d5d5f;">_</span><span style="color: #5d5d5f; font-weight: bold;">.</span><span style="color: #437aed; font-weight: bold;">curry</span><span style="color: #5d5d5f;">((</span><span style="color: #f0aa0b;">sep</span><span style="color: #a0a1a7;">,</span><span style="color: #f0aa0b;">array</span><span style="color: #5d5d5f;">)</span><span style="color: #7c4dff; font-weight: bold;"> =&gt; </span><span style="color: #5d5d5f;">_</span><span style="color: #5d5d5f; font-weight: bold;">.</span><span style="color: #437aed; font-weight: bold;">join</span><span style="color: #5d5d5f;">(</span><span style="color: #5d5d5f;">array</span><span style="color: #a0a1a7;">,</span><span style="color: #5d5d5f;">sep</span><span style="color: #5d5d5f;">))</span></div><div style="background-color:rgb(235, 238, 245);color:rgb(93, 93, 95);font-size:14px;line-height:19px;white-space:pre;"><span style="color: #7c4dff; font-weight: bold;">const </span><span style="color: #ff6500;">map</span><span style="color: #7c4dff; font-weight: bold;"> </span><span style="color: #888888;">=</span><span style="color: #7c4dff; font-weight: bold;"> </span><span style="color: #5d5d5f;">_</span><span style="color: #5d5d5f; font-weight: bold;">.</span><span style="color: #437aed; font-weight: bold;">curry</span><span style="color: #5d5d5f;">((</span><span style="color: #f0aa0b;">fn</span><span style="color: #a0a1a7;">,</span><span style="color: #f0aa0b;">array</span><span style="color: #5d5d5f;">)</span><span style="color: #7c4dff; font-weight: bold;"> =&gt; </span><span style="color: #5d5d5f;">_</span><span style="color: #5d5d5f; font-weight: bold;">.</span><span style="color: #437aed; font-weight: bold;">map</span><span style="color: #5d5d5f;">(</span><span style="color: #5d5d5f;">array</span><span style="color: #a0a1a7;">,</span><span style="color: #5d5d5f;">fn</span><span style="color: #5d5d5f;">))</span></div><div style="background-color:rgb(235, 238, 245);color:rgb(93, 93, 95);font-size:14px;line-height:19px;white-space:pre;"><span style="color: #7c4dff; font-weight: bold;">const </span><span style="color: #ff6500;">log</span><span style="color: #7c4dff; font-weight: bold;"> </span><span style="color: #888888;">=</span><span style="color: #7c4dff; font-weight: bold;"> </span><span style="color: #5d5d5f;">_</span><span style="color: #5d5d5f; font-weight: bold;">.</span><span style="color: #437aed; font-weight: bold;">curry</span><span style="color: #5d5d5f;">((</span><span style="color: #f0aa0b;">str</span><span style="color: #a0a1a7;">,</span><span style="color: #f0aa0b;">v</span><span style="color: #5d5d5f;">)</span><span style="color: #7c4dff; font-weight: bold;"> =&gt; </span><span style="color: #5d5d5f;">{</span></div><div style="background-color:rgb(235, 238, 245);color:rgb(93, 93, 95);font-size:14px;line-height:19px;white-space:pre;"><span style="color: #7c4dff; font-weight: bold;">    </span><span style="color: #cd6069;">console</span><span style="color: #5d5d5f; font-weight: bold;">.</span><span style="color: #00bec4;">log</span><span style="color: #5d5d5f;">(</span><span style="color: #5d5d5f;">str</span><span style="color: #a0a1a7;">,</span><span style="color: #7c4dff; font-weight: bold;"> </span><span style="color: #5d5d5f;">v</span><span style="color: #5d5d5f;">)</span><span style="color: #a9a9aa;">;</span></div><div style="background-color:rgb(235, 238, 245);color:rgb(93, 93, 95);font-size:14px;line-height:19px;white-space:pre;"><span style="color: #7c4dff; font-weight: bold;">    </span><span style="color: #c838c6; font-weight: bold;">return</span><span style="color: #7c4dff; font-weight: bold;"> </span><span style="color: #5d5d5f;">v</span><span style="color: #a9a9aa;">;</span></div><div style="background-color:rgb(235, 238, 245);color:rgb(93, 93, 95);font-size:14px;line-height:19px;white-space:pre;"><span style="color: #5d5d5f;">})</span></div><div style="background-color:rgb(235, 238, 245);color:rgb(93, 93, 95);font-size:14px;line-height:19px;white-space:pre;"><span style="color: #7c4dff; font-weight: bold;">const </span><span style="color: #ff6500;">transStr</span><span style="color: #7c4dff; font-weight: bold;"> </span><span style="color: #888888;">=</span><span style="color: #7c4dff; font-weight: bold;"> </span><span style="color: #5d5d5f;">_</span><span style="color: #5d5d5f; font-weight: bold;">.</span><span style="color: #437aed; font-weight: bold;">flowRight</span><span style="color: #5d5d5f;">(</span><span style="color: #437aed; font-weight: bold;">join</span><span style="color: #5d5d5f;">(</span><span style="color: #53a053;">'-'</span><span style="color: #5d5d5f;">)</span><span style="color: #7c4dff; font-weight: bold;"> </span><span style="color: #a0a1a7;">,</span><span style="color: #7c4dff; font-weight: bold;"> </span><span style="color: #437aed; font-weight: bold;">log</span><span style="color: #5d5d5f;">(</span><span style="color: #53a053;">'map之后'</span><span style="color: #5d5d5f;">)</span><span style="color: #a0a1a7;">,</span><span style="color: #7c4dff; font-weight: bold;"> </span><span style="color: #437aed; font-weight: bold;">map</span><span style="color: #5d5d5f;">(</span><span style="color: #5d5d5f;">_</span><span style="color: #5d5d5f; font-weight: bold;">.</span><span style="color: #cd6069;">toLower</span><span style="color: #5d5d5f;">)</span><span style="color: #7c4dff; font-weight: bold;"> </span><span style="color: #a0a1a7;">,</span><span style="color: #7c4dff; font-weight: bold;"> </span><span style="color: #437aed; font-weight: bold;">log</span><span style="color: #5d5d5f;">(</span><span style="color: #53a053;">'split之后'</span><span style="color: #5d5d5f;">)</span><span style="color: #7c4dff; font-weight: bold;"> </span><span style="color: #a0a1a7;">,</span><span style="color: #7c4dff; font-weight: bold;"> </span><span style="color: #437aed; font-weight: bold;">split</span><span style="color: #5d5d5f;">(</span><span style="color: #53a053;">' '</span><span style="color: #5d5d5f;">))</span></div><div style="background-color:rgb(235, 238, 245);color:rgb(93, 93, 95);font-size:14px;line-height:19px;white-space:pre;"><span style="color: #7c4dff; font-weight: bold;">const </span><span style="color: #ff6500;">r</span><span style="color: #7c4dff; font-weight: bold;"> </span><span style="color: #888888;">=</span><span style="color: #7c4dff; font-weight: bold;"> </span><span style="color: #437aed; font-weight: bold;">transStr</span><span style="color: #5d5d5f;">(</span><span style="color: #53a053;">'ABCDE FGH'</span><span style="color: #5d5d5f;">)</span></div><div style="background-color:rgb(235, 238, 245);color:rgb(93, 93, 95);font-size:14px;line-height:19px;white-space:pre;"><span style="color: #cd6069;">console</span><span style="color: #5d5d5f; font-weight: bold;">.</span><span style="color: #00bec4;">log</span><span style="color: #5d5d5f;">(</span><span style="color: #5d5d5f;">r</span><span style="color: #5d5d5f;">)</span></div><div><span style="font-size: 12px;"><br/></span></div><div><font style="font-size: 12pt;"><b>lodash中的fp模块</b></font></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 12pt;">lodash 的 fp 模块提供了实用的对函数式编程友好的方法 </font></div><div><font style="font-size: 12pt;">提供了不可变 auto-curried iteratee-ﬁrst data-last 的方法</font></div></div><div style="background-color:rgb(235, 238, 245);color:rgb(93, 93, 95);font-size:14px;line-height:19px;white-space:pre;"><span style="color: #a9a9aa;">//</span><span style="color: #a9a9aa; font-style: italic;"> lodash 模块 </span></div><div style="background-color:rgb(235, 238, 245);color:rgb(93, 93, 95);font-size:14px;line-height:19px;white-space:pre;"><span style="color: #7c4dff; font-weight: bold;">const </span><span style="color: #ff6500;">_</span><span style="color: #7c4dff; font-weight: bold;"> </span><span style="color: #888888;">=</span><span style="color: #7c4dff; font-weight: bold;"> </span><span style="color: #00bec4;">require</span><span style="color: #5d5d5f;">(</span><span style="color: #53a053;">'lodash'</span><span style="color: #5d5d5f;">)</span></div><div style="background-color:rgb(235, 238, 245);color:rgb(93, 93, 95);font-size:14px;line-height:19px;white-space:pre;"><span style="color: #5d5d5f;">_</span><span style="color: #5d5d5f; font-weight: bold;">.</span><span style="color: #437aed; font-weight: bold;">map</span><span style="color: #5d5d5f;">([</span><span style="color: #53a053;">'a'</span><span style="color: #a0a1a7;">,</span><span style="color: #626264;"> </span><span style="color: #53a053;">'b'</span><span style="color: #a0a1a7;">,</span><span style="color: #626264;"> </span><span style="color: #53a053;">'c'</span><span style="color: #5d5d5f;">]</span><span style="color: #a0a1a7;">,</span><span style="color: #626264;"> </span><span style="color: #5d5d5f;">_</span><span style="color: #5d5d5f; font-weight: bold;">.</span><span style="color: #cd6069;">toUpper</span><span style="color: #5d5d5f;">)</span><span style="color: #626264;"> </span></div><div style="background-color:rgb(235, 238, 245);color:rgb(93, 93, 95);font-size:14px;line-height:19px;white-space:pre;"><span style="color: #a9a9aa;">//</span><span style="color: #a9a9aa; font-style: italic;"> =&gt; ['A', 'B', 'C'] </span></div><div style="background-color:rgb(235, 238, 245);color:rgb(93, 93, 95);font-size:14px;line-height:19px;white-space:pre;"><span style="color: #5d5d5f;">_</span><span style="color: #5d5d5f; font-weight: bold;">.</span><span style="color: #437aed; font-weight: bold;">map</span><span style="color: #5d5d5f;">([</span><span style="color: #53a053;">'a'</span><span style="color: #a0a1a7;">,</span><span style="color: #626264;"> </span><span style="color: #53a053;">'b'</span><span style="color: #a0a1a7;">,</span><span style="color: #626264;"> </span><span style="color: #53a053;">'c'</span><span style="color: #5d5d5f;">])</span><span style="color: #626264;"> </span></div><div style="background-color:rgb(235, 238, 245);color:rgb(93, 93, 95);font-size:14px;line-height:19px;white-space:pre;"><span style="color: #a9a9aa;">//</span><span style="color: #a9a9aa; font-style: italic;"> =&gt; ['a', 'b', 'c']</span></div><div style="background-color:rgb(235, 238, 245);color:rgb(93, 93, 95);font-size:14px;line-height:19px;white-space:pre;"><span style="color: #5d5d5f;">_</span><span style="color: #5d5d5f; font-weight: bold;">.</span><span style="color: #437aed; font-weight: bold;">split</span><span style="color: #5d5d5f;">(</span><span style="color: #53a053;">'Hello World'</span><span style="color: #a0a1a7;">,</span><span style="color: #626264;"> </span><span style="color: #53a053;">' '</span><span style="color: #5d5d5f;">)</span></div><div style="background-color:rgb(235, 238, 245);color:rgb(93, 93, 95);font-size:14px;line-height:19px;white-space:pre;"><span style="color: #a9a9aa;">//</span><span style="color: #a9a9aa; font-style: italic;"> lodash/fp 模块 </span></div><div style="background-color:rgb(235, 238, 245);color:rgb(93, 93, 95);font-size:14px;line-height:19px;white-space:pre;"><span style="color: #7c4dff; font-weight: bold;">const </span><span style="color: #ff6500;">fp</span><span style="color: #7c4dff; font-weight: bold;"> </span><span style="color: #888888;">=</span><span style="color: #7c4dff; font-weight: bold;"> </span><span style="color: #00bec4;">require</span><span style="color: #5d5d5f;">(</span><span style="color: #53a053;">'lodash/fp'</span><span style="color: #5d5d5f;">)</span></div><div style="background-color:rgb(235, 238, 245);color:rgb(93, 93, 95);font-size:14px;line-height:19px;white-space:pre;"><span style="color: #5d5d5f;">fp</span><span style="color: #5d5d5f; font-weight: bold;">.</span><span style="color: #437aed; font-weight: bold;">map</span><span style="color: #5d5d5f;">(</span><span style="color: #5d5d5f;">fp</span><span style="color: #5d5d5f; font-weight: bold;">.</span><span style="color: #cd6069;">toUpper</span><span style="color: #a0a1a7;">,</span><span style="color: #626264;"> </span><span style="color: #5d5d5f;">[</span><span style="color: #53a053;">'a'</span><span style="color: #a0a1a7;">,</span><span style="color: #626264;"> </span><span style="color: #53a053;">'b'</span><span style="color: #a0a1a7;">,</span><span style="color: #626264;"> </span><span style="color: #53a053;">'c'</span><span style="color: #5d5d5f;">])</span><span style="color: #626264;"> </span></div><div style="background-color:rgb(235, 238, 245);color:rgb(93, 93, 95);font-size:14px;line-height:19px;white-space:pre;"><span style="color: #5d5d5f;">fp</span><span style="color: #5d5d5f; font-weight: bold;">.</span><span style="color: #437aed; font-weight: bold;">map</span><span style="color: #5d5d5f;">(</span><span style="color: #5d5d5f;">fp</span><span style="color: #5d5d5f; font-weight: bold;">.</span><span style="color: #cd6069;">toUpper</span><span style="color: #5d5d5f;">)([</span><span style="color: #53a053;">'a'</span><span style="color: #a0a1a7;">,</span><span style="color: #626264;"> </span><span style="color: #53a053;">'b'</span><span style="color: #a0a1a7;">,</span><span style="color: #626264;"> </span><span style="color: #53a053;">'c'</span><span style="color: #5d5d5f;">])</span></div><div style="background-color:rgb(235, 238, 245);color:rgb(93, 93, 95);font-size:14px;line-height:19px;white-space:pre;"><span style="color: #5d5d5f;">fp</span><span style="color: #5d5d5f; font-weight: bold;">.</span><span style="color: #437aed; font-weight: bold;">split</span><span style="color: #5d5d5f;">(</span><span style="color: #53a053;">' '</span><span style="color: #a0a1a7;">,</span><span style="color: #626264;"> </span><span style="color: #53a053;">'Hello World'</span><span style="color: #5d5d5f;">)</span><span style="color: #626264;"> </span></div><div style="background-color:rgb(235, 238, 245);color:rgb(93, 93, 95);font-size:14px;line-height:19px;white-space:pre;"><span style="color: #5d5d5f;">fp</span><span style="color: #5d5d5f; font-weight: bold;">.</span><span style="color: #437aed; font-weight: bold;">split</span><span style="color: #5d5d5f;">(</span><span style="color: #53a053;">' '</span><span style="color: #5d5d5f;">)(</span><span style="color: #53a053;">'Hello World'</span><span style="color: #5d5d5f;">)</span></div><div style="background-color:rgb(235, 238, 245);color:rgb(93, 93, 95);font-size:14px;line-height:19px;white-space:pre;"><br/></div><div style="background-color:rgb(235, 238, 245);color:rgb(93, 93, 95);font-size:14px;line-height:19px;white-space:pre;"><span style="color: #7c4dff; font-weight: bold;">const </span><span style="color: #ff6500;">fp</span><span style="color: #7c4dff; font-weight: bold;"> </span><span style="color: #888888;">=</span><span style="color: #7c4dff; font-weight: bold;"> </span><span style="color: #00bec4;">require</span><span style="color: #5d5d5f;">(</span><span style="color: #53a053;">'lodash/fp'</span><span style="color: #5d5d5f;">)</span></div><div style="background-color:rgb(235, 238, 245);color:rgb(93, 93, 95);font-size:14px;line-height:19px;white-space:pre;"><span style="color: #7c4dff; font-weight: bold;">const </span><span style="color: #ff6500;">f</span><span style="color: #7c4dff; font-weight: bold;"> </span><span style="color: #888888;">=</span><span style="color: #7c4dff; font-weight: bold;"> </span><span style="color: #5d5d5f;">fp</span><span style="color: #5d5d5f; font-weight: bold;">.</span><span style="color: #437aed; font-weight: bold;">flowRight</span><span style="color: #5d5d5f;">(</span><span style="color: #5d5d5f;">fp</span><span style="color: #5d5d5f; font-weight: bold;">.</span><span style="color: #437aed; font-weight: bold;">join</span><span style="color: #5d5d5f;">(</span><span style="color: #53a053;">'-'</span><span style="color: #5d5d5f;">)</span><span style="color: #a0a1a7;">,</span><span style="color: #7c4dff; font-weight: bold;"> </span><span style="color: #5d5d5f;">fp</span><span style="color: #5d5d5f; font-weight: bold;">.</span><span style="color: #437aed; font-weight: bold;">map</span><span style="color: #5d5d5f;">(</span><span style="color: #5d5d5f;">_</span><span style="color: #5d5d5f; font-weight: bold;">.</span><span style="color: #cd6069;">toLower</span><span style="color: #5d5d5f;">)</span><span style="color: #a0a1a7;">,</span><span style="color: #7c4dff; font-weight: bold;"> </span><span style="color: #5d5d5f;">fp</span><span style="color: #5d5d5f; font-weight: bold;">.</span><span style="color: #437aed; font-weight: bold;">split</span><span style="color: #5d5d5f;">(</span><span style="color: #53a053;">' '</span><span style="color: #5d5d5f;">))</span><span style="color: #7c4dff; font-weight: bold;"> </span></div><div style="background-color:rgb(235, 238, 245);color:rgb(93, 93, 95);font-size:14px;line-height:19px;white-space:pre;"><span style="color: #cd6069;">console</span><span style="color: #5d5d5f; font-weight: bold;">.</span><span style="color: #00bec4;">log</span><span style="color: #5d5d5f;">(</span><span style="color: #437aed; font-weight: bold;">f</span><span style="color: #5d5d5f;">(</span><span style="color: #53a053;">'NEVER SAY DIE'</span><span style="color: #5d5d5f;">))</span></div><div><span style="font-size: 12px;"><br/></span></div><div><font style="font-size: 12pt;"><b>Point Free</b></font></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 12pt;">我们可以把数据处理的过程定义成与数据无关的合成运算，不需要用到代表数据的那个参数，只要把简单的运算步骤合成到一起，在使用这种模式之前我们需要定义一些辅助的基本运算函数。</font></div><div><font style="font-size: 12pt;">---不需要指明处理的数据</font></div><div><font style="font-size: 12pt;">---只需要合成运算过程</font></div><div><font style="font-size: 12pt;">---需要定义一些辅助的基本运算函数</font></div></div><div><span style="font-size: 9pt;"><img src="函数式编程_files/Image [1].png" type="image/png" data-filename="Image.png"/></span></div><div><span style="font-size: 12px;"><br/></span></div><div><font style="font-size: 12pt;"><b>Functor (函子)</b></font></div><div><span style="font-size: 9pt;"><b>为什么要学函子</b></span></div><div><span style="font-size: 9pt;">到目前为止已经已经学习了函数式编程的一些基础，但是我们还没有演示在函数式编程中如何把副作用 控制在可控的范围内、异常处理、异步操作等。 </span></div><div><span style="font-size: 9pt;"><b>什么是 Functor</b></span></div><div><span style="font-size: 9pt;"><b>容器：</b>包含值和值的变形关系(这个变形关系就是函数) </span></div><div><span style="font-size: 9pt;"><b>函子：</b>是一个特殊的容器，通过一个普通的对象来实现，该对象具有 map 方法，map 方法可以运 行一个函数对值进行处理(变形关系)</span></div><div><span style="font-size: 9pt;"><b>Functor 函子</b></span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>总结</div><div>函数式编程的运算不直接操作值，而是由函子完成 </div><div>函子就是一个实现了 map 契约的对象 </div><div>我们可以把函子想象成一个盒子，这个盒子里封装了一个值 </div><div>想要处理盒子中的值，我们需要给盒子的 map 方法传递一个处理值的函数（纯函数），由这个函数来对值进行处理 </div><div>最终 map 方法返回一个包含新值的盒子（函子） </div></div><div><span style="font-size: 12px;"><br/></span></div><div><span style="font-size: 12px;"><br/></span></div><div><span style="font-size: 12px;"><br/></span></div><div><span style="font-size: 12px;"><br/></span></div><div><span style="font-size: 12px;"><br/></span></div><div><span style="font-size: 12px;"><br/></span></div><div><span style="font-size: 12px;"><br/></span></div><div><span style="font-size: 12px;"><br/></span></div><div><span style="font-size: 12px;"><br/></span></div><div><span style="font-size: 12px;"><br/></span></div><div><span style="font-size: 12px;"><br/></span></div><div><span style="font-size: 12px;"><br/></span></div><div><span style="font-size: 12px;"><br/></span></div><div><span style="font-size: 12px;"><br/></span></div><div><span style="font-size: 12px;"><br/></span></div><div><span style="font-size: 12px;"><br/></span></div><div><span style="font-size: 12px;"><br/></span></div><div><span style="font-size: 12px;"><br/></span></div><div><span style="font-size: 12px;"><br/></span></div></span>
</div></body></html> 